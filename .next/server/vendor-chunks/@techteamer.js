/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@techteamer";
exports.ids = ["vendor-chunks/@techteamer"];
exports.modules = {

/***/ "(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp.js":
/*!***************************************************!*\
  !*** ./node_modules/@techteamer/ocsp/lib/ocsp.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("exports.Cache = __webpack_require__(/*! ./ocsp/cache */ \"(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/cache.js\")\nexports.Agent = __webpack_require__(/*! ./ocsp/agent */ \"(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/agent.js\")\nexports.Server = __webpack_require__(/*! ./ocsp/server */ \"(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/server.js\")\n\nexports.getOCSPURI = __webpack_require__(/*! ./ocsp/api */ \"(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/api.js\").getOCSPURI\n\nexports.request = __webpack_require__(/*! ./ocsp/request */ \"(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/request.js\")\nexports.check = __webpack_require__(/*! ./ocsp/check */ \"(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/check.js\")\nexports.verify = __webpack_require__(/*! ./ocsp/verify */ \"(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/verify.js\")\nexports.utils = __webpack_require__(/*! ./ocsp/utils */ \"(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/utils.js\")\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRlY2h0ZWFtZXIvb2NzcC9saWIvb2NzcC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxrSEFBdUM7QUFDdkMsa0hBQXVDO0FBQ3ZDLHFIQUF5Qzs7QUFFekMsOEhBQXFEOztBQUVyRCx3SEFBMkM7QUFDM0Msa0hBQXVDO0FBQ3ZDLHFIQUF5QztBQUN6QyxrSEFBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hY2Nlc3Nvcnktc2FsZXMtc3VtbWFyeS8uL25vZGVfbW9kdWxlcy9AdGVjaHRlYW1lci9vY3NwL2xpYi9vY3NwLmpzPzNhMjAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cy5DYWNoZSA9IHJlcXVpcmUoJy4vb2NzcC9jYWNoZScpXG5leHBvcnRzLkFnZW50ID0gcmVxdWlyZSgnLi9vY3NwL2FnZW50JylcbmV4cG9ydHMuU2VydmVyID0gcmVxdWlyZSgnLi9vY3NwL3NlcnZlcicpXG5cbmV4cG9ydHMuZ2V0T0NTUFVSSSA9IHJlcXVpcmUoJy4vb2NzcC9hcGknKS5nZXRPQ1NQVVJJXG5cbmV4cG9ydHMucmVxdWVzdCA9IHJlcXVpcmUoJy4vb2NzcC9yZXF1ZXN0JylcbmV4cG9ydHMuY2hlY2sgPSByZXF1aXJlKCcuL29jc3AvY2hlY2snKVxuZXhwb3J0cy52ZXJpZnkgPSByZXF1aXJlKCcuL29jc3AvdmVyaWZ5JylcbmV4cG9ydHMudXRpbHMgPSByZXF1aXJlKCcuL29jc3AvdXRpbHMnKVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/agent.js":
/*!*********************************************************!*\
  !*** ./node_modules/@techteamer/ocsp/lib/ocsp/agent.js ***!
  \*********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const ocsp = __webpack_require__(/*! ../ocsp */ \"(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp.js\")\n\nconst http = __webpack_require__(/*! http */ \"http\")\nconst https = __webpack_require__(/*! https */ \"https\")\nconst httpsAgent = https.Agent\nconst rfc5280 = __webpack_require__(/*! asn1.js-rfc5280 */ \"(rsc)/./node_modules/asn1.js-rfc5280/index.js\")\nconst SimpleCache = __webpack_require__(/*! simple-lru-cache */ \"(rsc)/./node_modules/simple-lru-cache/index.js\")\n\nclass Agent extends httpsAgent {\n  constructor (options) {\n    options = Object.assign({ CACacheSize: 1024 }, options)\n    super(options)\n\n    this.caCache = new SimpleCache({ maxSize: options.CACacheSize })\n  }\n\n  createConnection (options, connectListener) {\n    options.requestOCSP = true\n    const socket = super.createConnection(options, connectListener)\n\n    let stapling = null\n    socket.on('OCSPResponse', function (data) { stapling = data })\n\n    socket.on('secure', () => {\n      return this.handleOCSPResponse(socket, stapling, function (err) {\n        if (err) {\n          return socket.destroy(err)\n        }\n\n        // Time to allow all writes!\n        socket.uncork()\n      })\n    })\n\n    // Do not let any writes come through until we will verify OCSP\n    socket.cork()\n\n    return socket\n  }\n\n  handleOCSPResponse (socket, stapling, cb) {\n    if (!socket.authorized) {\n      return cb(new Error(socket.authorizationError))\n    }\n\n    let cert\n    let issuer\n\n    try {\n      cert = (socket.ssl || socket).getPeerCertificate(true)\n      issuer = cert && cert.issuerCertificate\n      cert = cert && cert.raw\n      cert = rfc5280.Certificate.decode(cert, 'der')\n\n      if (issuer) {\n        issuer = issuer.raw\n        issuer = rfc5280.Certificate.decode(issuer, 'der')\n      }\n    } catch (e) {\n      return cb(e)\n    }\n\n    function onIssuer (err, x509) {\n      if (err) {\n        return cb(err)\n      }\n\n      issuer = x509\n\n      if (stapling) {\n        const req = ocsp.request.generate(cert, issuer)\n        ocsp.verify({\n          request: req,\n          response: stapling\n        }, cb)\n      } else {\n        return ocsp.check({ cert, issuer }, cb)\n      }\n    }\n\n    if (issuer) {\n      return onIssuer(null, issuer)\n    } else {\n      return this.fetchIssuer(cert, stapling, onIssuer)\n    }\n  }\n\n  fetchIssuer (cert, stapling, cb) {\n    const issuers = ocsp.utils['id-ad-caIssuers'].join('.')\n\n    // TODO(indutny): use info from stapling response\n    ocsp.utils.getAuthorityInfo(cert, issuers, (err, uri) => {\n      if (err) { return cb(err) }\n\n      const ca = this.caCache.get(uri)\n      if (ca) { return cb(null, ca) }\n\n      let once = false\n      function done (err, data) {\n        if (once) { return }\n\n        once = true\n        cb(err, data)\n      }\n\n      function onResponse (res) {\n        if (res.statusCode < 200 || res.statusCode >= 400) {\n          return done(new Error('Failed to fetch CA: ' + res.statusCode))\n        }\n\n        const chunks = []\n        res.on('readable', function () {\n          const chunk = res.read()\n          if (!chunk) { return }\n          chunks.push(chunk)\n        })\n\n        res.on('end', function () {\n          let cert = Buffer.concat(chunks)\n\n          try {\n            cert = rfc5280.Certificate.decode(cert, 'der')\n          } catch (e) {\n            return done(e)\n          }\n\n          this.caCache.set(uri, cert)\n          done(null, cert)\n        })\n      }\n\n      try {\n        http.get(uri)\n          .on('error', done)\n          .on('response', onResponse.bind(this))\n      } catch (e) {\n        return done(e)\n      }\n    })\n  }\n}\n\nmodule.exports = Agent\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRlY2h0ZWFtZXIvb2NzcC9saWIvb2NzcC9hZ2VudC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxhQUFhLG1CQUFPLENBQUMsa0VBQVM7O0FBRTlCLGFBQWEsbUJBQU8sQ0FBQyxrQkFBTTtBQUMzQixjQUFjLG1CQUFPLENBQUMsb0JBQU87QUFDN0I7QUFDQSxnQkFBZ0IsbUJBQU8sQ0FBQyxzRUFBaUI7QUFDekMsb0JBQW9CLG1CQUFPLENBQUMsd0VBQWtCOztBQUU5QztBQUNBO0FBQ0EsOEJBQThCLG1CQUFtQjtBQUNqRDs7QUFFQSxxQ0FBcUMsOEJBQThCO0FBQ25FOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdEQUFnRCxpQkFBaUI7O0FBRWpFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUiw0QkFBNEIsY0FBYztBQUMxQztBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQSxnQkFBZ0I7O0FBRWhCO0FBQ0E7QUFDQSxvQkFBb0I7O0FBRXBCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQSxTQUFTOztBQUVUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWNjZXNzb3J5LXNhbGVzLXN1bW1hcnkvLi9ub2RlX21vZHVsZXMvQHRlY2h0ZWFtZXIvb2NzcC9saWIvb2NzcC9hZ2VudC5qcz9mMjdjIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG9jc3AgPSByZXF1aXJlKCcuLi9vY3NwJylcblxuY29uc3QgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKVxuY29uc3QgaHR0cHMgPSByZXF1aXJlKCdodHRwcycpXG5jb25zdCBodHRwc0FnZW50ID0gaHR0cHMuQWdlbnRcbmNvbnN0IHJmYzUyODAgPSByZXF1aXJlKCdhc24xLmpzLXJmYzUyODAnKVxuY29uc3QgU2ltcGxlQ2FjaGUgPSByZXF1aXJlKCdzaW1wbGUtbHJ1LWNhY2hlJylcblxuY2xhc3MgQWdlbnQgZXh0ZW5kcyBodHRwc0FnZW50IHtcbiAgY29uc3RydWN0b3IgKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IENBQ2FjaGVTaXplOiAxMDI0IH0sIG9wdGlvbnMpXG4gICAgc3VwZXIob3B0aW9ucylcblxuICAgIHRoaXMuY2FDYWNoZSA9IG5ldyBTaW1wbGVDYWNoZSh7IG1heFNpemU6IG9wdGlvbnMuQ0FDYWNoZVNpemUgfSlcbiAgfVxuXG4gIGNyZWF0ZUNvbm5lY3Rpb24gKG9wdGlvbnMsIGNvbm5lY3RMaXN0ZW5lcikge1xuICAgIG9wdGlvbnMucmVxdWVzdE9DU1AgPSB0cnVlXG4gICAgY29uc3Qgc29ja2V0ID0gc3VwZXIuY3JlYXRlQ29ubmVjdGlvbihvcHRpb25zLCBjb25uZWN0TGlzdGVuZXIpXG5cbiAgICBsZXQgc3RhcGxpbmcgPSBudWxsXG4gICAgc29ja2V0Lm9uKCdPQ1NQUmVzcG9uc2UnLCBmdW5jdGlvbiAoZGF0YSkgeyBzdGFwbGluZyA9IGRhdGEgfSlcblxuICAgIHNvY2tldC5vbignc2VjdXJlJywgKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlT0NTUFJlc3BvbnNlKHNvY2tldCwgc3RhcGxpbmcsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiBzb2NrZXQuZGVzdHJveShlcnIpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaW1lIHRvIGFsbG93IGFsbCB3cml0ZXMhXG4gICAgICAgIHNvY2tldC51bmNvcmsoKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgLy8gRG8gbm90IGxldCBhbnkgd3JpdGVzIGNvbWUgdGhyb3VnaCB1bnRpbCB3ZSB3aWxsIHZlcmlmeSBPQ1NQXG4gICAgc29ja2V0LmNvcmsoKVxuXG4gICAgcmV0dXJuIHNvY2tldFxuICB9XG5cbiAgaGFuZGxlT0NTUFJlc3BvbnNlIChzb2NrZXQsIHN0YXBsaW5nLCBjYikge1xuICAgIGlmICghc29ja2V0LmF1dGhvcml6ZWQpIHtcbiAgICAgIHJldHVybiBjYihuZXcgRXJyb3Ioc29ja2V0LmF1dGhvcml6YXRpb25FcnJvcikpXG4gICAgfVxuXG4gICAgbGV0IGNlcnRcbiAgICBsZXQgaXNzdWVyXG5cbiAgICB0cnkge1xuICAgICAgY2VydCA9IChzb2NrZXQuc3NsIHx8IHNvY2tldCkuZ2V0UGVlckNlcnRpZmljYXRlKHRydWUpXG4gICAgICBpc3N1ZXIgPSBjZXJ0ICYmIGNlcnQuaXNzdWVyQ2VydGlmaWNhdGVcbiAgICAgIGNlcnQgPSBjZXJ0ICYmIGNlcnQucmF3XG4gICAgICBjZXJ0ID0gcmZjNTI4MC5DZXJ0aWZpY2F0ZS5kZWNvZGUoY2VydCwgJ2RlcicpXG5cbiAgICAgIGlmIChpc3N1ZXIpIHtcbiAgICAgICAgaXNzdWVyID0gaXNzdWVyLnJhd1xuICAgICAgICBpc3N1ZXIgPSByZmM1MjgwLkNlcnRpZmljYXRlLmRlY29kZShpc3N1ZXIsICdkZXInKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBjYihlKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uSXNzdWVyIChlcnIsIHg1MDkpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNiKGVycilcbiAgICAgIH1cblxuICAgICAgaXNzdWVyID0geDUwOVxuXG4gICAgICBpZiAoc3RhcGxpbmcpIHtcbiAgICAgICAgY29uc3QgcmVxID0gb2NzcC5yZXF1ZXN0LmdlbmVyYXRlKGNlcnQsIGlzc3VlcilcbiAgICAgICAgb2NzcC52ZXJpZnkoe1xuICAgICAgICAgIHJlcXVlc3Q6IHJlcSxcbiAgICAgICAgICByZXNwb25zZTogc3RhcGxpbmdcbiAgICAgICAgfSwgY2IpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gb2NzcC5jaGVjayh7IGNlcnQsIGlzc3VlciB9LCBjYilcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNzdWVyKSB7XG4gICAgICByZXR1cm4gb25Jc3N1ZXIobnVsbCwgaXNzdWVyKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5mZXRjaElzc3VlcihjZXJ0LCBzdGFwbGluZywgb25Jc3N1ZXIpXG4gICAgfVxuICB9XG5cbiAgZmV0Y2hJc3N1ZXIgKGNlcnQsIHN0YXBsaW5nLCBjYikge1xuICAgIGNvbnN0IGlzc3VlcnMgPSBvY3NwLnV0aWxzWydpZC1hZC1jYUlzc3VlcnMnXS5qb2luKCcuJylcblxuICAgIC8vIFRPRE8oaW5kdXRueSk6IHVzZSBpbmZvIGZyb20gc3RhcGxpbmcgcmVzcG9uc2VcbiAgICBvY3NwLnV0aWxzLmdldEF1dGhvcml0eUluZm8oY2VydCwgaXNzdWVycywgKGVyciwgdXJpKSA9PiB7XG4gICAgICBpZiAoZXJyKSB7IHJldHVybiBjYihlcnIpIH1cblxuICAgICAgY29uc3QgY2EgPSB0aGlzLmNhQ2FjaGUuZ2V0KHVyaSlcbiAgICAgIGlmIChjYSkgeyByZXR1cm4gY2IobnVsbCwgY2EpIH1cblxuICAgICAgbGV0IG9uY2UgPSBmYWxzZVxuICAgICAgZnVuY3Rpb24gZG9uZSAoZXJyLCBkYXRhKSB7XG4gICAgICAgIGlmIChvbmNlKSB7IHJldHVybiB9XG5cbiAgICAgICAgb25jZSA9IHRydWVcbiAgICAgICAgY2IoZXJyLCBkYXRhKVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvblJlc3BvbnNlIChyZXMpIHtcbiAgICAgICAgaWYgKHJlcy5zdGF0dXNDb2RlIDwgMjAwIHx8IHJlcy5zdGF0dXNDb2RlID49IDQwMCkge1xuICAgICAgICAgIHJldHVybiBkb25lKG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIENBOiAnICsgcmVzLnN0YXR1c0NvZGUpKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2h1bmtzID0gW11cbiAgICAgICAgcmVzLm9uKCdyZWFkYWJsZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zdCBjaHVuayA9IHJlcy5yZWFkKClcbiAgICAgICAgICBpZiAoIWNodW5rKSB7IHJldHVybiB9XG4gICAgICAgICAgY2h1bmtzLnB1c2goY2h1bmspXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmVzLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbGV0IGNlcnQgPSBCdWZmZXIuY29uY2F0KGNodW5rcylcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjZXJ0ID0gcmZjNTI4MC5DZXJ0aWZpY2F0ZS5kZWNvZGUoY2VydCwgJ2RlcicpXG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGRvbmUoZSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLmNhQ2FjaGUuc2V0KHVyaSwgY2VydClcbiAgICAgICAgICBkb25lKG51bGwsIGNlcnQpXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGh0dHAuZ2V0KHVyaSlcbiAgICAgICAgICAub24oJ2Vycm9yJywgZG9uZSlcbiAgICAgICAgICAub24oJ3Jlc3BvbnNlJywgb25SZXNwb25zZS5iaW5kKHRoaXMpKVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZG9uZShlKVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBZ2VudFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/agent.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/api.js":
/*!*******************************************************!*\
  !*** ./node_modules/@techteamer/ocsp/lib/ocsp/api.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const ocsp = __webpack_require__(/*! ../ocsp */ \"(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp.js\")\nconst rfc2560 = __webpack_require__(/*! asn1.js-rfc2560 */ \"(rsc)/./node_modules/asn1.js-rfc2560/index.js\")\nconst rfc5280 = __webpack_require__(/*! asn1.js-rfc5280 */ \"(rsc)/./node_modules/asn1.js-rfc5280/index.js\")\n\nexports.getOCSPURI = function getOCSPURI (rawCert, cb) {\n  const ocspMethod = rfc2560['id-pkix-ocsp'].join('.')\n\n  let cert = ocsp.utils.toDER(rawCert, 'CERTIFICATE')\n  cert = rfc5280.Certificate.decode(cert, 'der')\n\n  ocsp.utils.getAuthorityInfo(cert, ocspMethod, cb)\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRlY2h0ZWFtZXIvb2NzcC9saWIvb2NzcC9hcGkuanMiLCJtYXBwaW5ncyI6IkFBQUEsYUFBYSxtQkFBTyxDQUFDLGtFQUFTO0FBQzlCLGdCQUFnQixtQkFBTyxDQUFDLHNFQUFpQjtBQUN6QyxnQkFBZ0IsbUJBQU8sQ0FBQyxzRUFBaUI7O0FBRXpDLGtCQUFrQjtBQUNsQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hY2Nlc3Nvcnktc2FsZXMtc3VtbWFyeS8uL25vZGVfbW9kdWxlcy9AdGVjaHRlYW1lci9vY3NwL2xpYi9vY3NwL2FwaS5qcz80ODg2Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG9jc3AgPSByZXF1aXJlKCcuLi9vY3NwJylcbmNvbnN0IHJmYzI1NjAgPSByZXF1aXJlKCdhc24xLmpzLXJmYzI1NjAnKVxuY29uc3QgcmZjNTI4MCA9IHJlcXVpcmUoJ2FzbjEuanMtcmZjNTI4MCcpXG5cbmV4cG9ydHMuZ2V0T0NTUFVSSSA9IGZ1bmN0aW9uIGdldE9DU1BVUkkgKHJhd0NlcnQsIGNiKSB7XG4gIGNvbnN0IG9jc3BNZXRob2QgPSByZmMyNTYwWydpZC1wa2l4LW9jc3AnXS5qb2luKCcuJylcblxuICBsZXQgY2VydCA9IG9jc3AudXRpbHMudG9ERVIocmF3Q2VydCwgJ0NFUlRJRklDQVRFJylcbiAgY2VydCA9IHJmYzUyODAuQ2VydGlmaWNhdGUuZGVjb2RlKGNlcnQsICdkZXInKVxuXG4gIG9jc3AudXRpbHMuZ2V0QXV0aG9yaXR5SW5mbyhjZXJ0LCBvY3NwTWV0aG9kLCBjYilcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/api.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/cache.js":
/*!*********************************************************!*\
  !*** ./node_modules/@techteamer/ocsp/lib/ocsp/cache.js ***!
  \*********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const ocsp = __webpack_require__(/*! ../ocsp */ \"(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp.js\")\n\nclass Cache {\n  constructor (options) {\n    this.options = options || {}\n    this.cache = {}\n\n    // Override methods\n    if (this.options.probe) {\n      this.probe = this.options.probe\n    }\n    if (this.options.store) {\n      this.store = this.options.store\n    }\n    if (this.options.filter) {\n      this.filter = this.options.filter\n    }\n  }\n\n  filter (url, callback) {\n    callback(null)\n  }\n\n  probe (id, callback) {\n    if (Object.prototype.hasOwnProperty.call(this.cache, id)) {\n      callback(null, this.cache[id])\n    } else {\n      callback(null, false)\n    }\n  }\n\n  store (id, response, maxTime, callback) {\n    if (Object.prototype.hasOwnProperty.call(this.cache, id)) {\n      clearTimeout(this.cache[id].timer)\n    }\n\n    this.cache[id] = {\n      response,\n      timer: setTimeout(() => { delete this.cache[id] }, maxTime)\n    }\n\n    callback(null, null)\n  }\n\n  request (id, data, callback) {\n    function done (err, response) {\n      if (callback) {\n        callback(err, response)\n      }\n      callback = null\n    }\n\n    const onResponse = (err, ocsp) => {\n      if (err) {\n        return done(err)\n      }\n\n      // Respond early\n      done(null, ocsp)\n\n      // Try parsing and caching response\n      this.getMaxStoreTime(ocsp, (err, maxTime) => {\n        if (err) {\n          return\n        }\n\n        this.store(id, ocsp, maxTime, () => {\n          // No-op\n        })\n      })\n    }\n\n    // Check that url isn't blacklisted\n    this.filter(data.url, function (err) {\n      if (err) {\n        return done(err, null)\n      }\n\n      ocsp.utils.getResponse(data.url, data.ocsp, onResponse)\n    })\n  }\n\n  getMaxStoreTime (response, callback) {\n    let basic\n    try {\n      basic = ocsp.utils.parseResponse(response).value\n    } catch (e) {\n      return callback(e)\n    }\n\n    // Not enough responses\n    if (basic.tbsResponseData.responses.length === 0) { return callback(new Error('No OCSP responses')) }\n\n    const responses = basic.tbsResponseData.responses\n\n    // Every response should be positive\n    const good = responses.every(function (response) {\n      return response.certStatus.type === 'good'\n    })\n\n    // No good - no cache\n    if (!good) {\n      return callback(new Error('Some OCSP responses are not good'))\n    }\n\n    // Find minimum nextUpdate time\n    let nextUpdate = 0\n    for (let i = 0; i < responses.length; i++) {\n      const response = responses[i]\n      const responseNext = response.nextUpdate\n      if (!responseNext) {\n        continue\n      }\n      if (nextUpdate === 0 || nextUpdate > responseNext) {\n        nextUpdate = responseNext\n      }\n    }\n\n    return callback(null, Math.min(Math.max(0, nextUpdate - new Date()), 0x7FFFFFFF))\n  }\n\n  clear () {\n    const cacheIds = Object.keys(this.cache)\n    cacheIds.forEach((cacheId) => {\n      clearTimeout(this.cache[cacheId].timer)\n      delete this.cache[cacheId]\n    })\n  }\n}\n\nmodule.exports = Cache\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRlY2h0ZWFtZXIvb2NzcC9saWIvb2NzcC9jYWNoZS5qcyIsIm1hcHBpbmdzIjoiQUFBQSxhQUFhLG1CQUFPLENBQUMsa0VBQVM7O0FBRTlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdDQUFnQyx1QkFBdUI7QUFDdkQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0Esd0RBQXdEOztBQUV4RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2FjY2Vzc29yeS1zYWxlcy1zdW1tYXJ5Ly4vbm9kZV9tb2R1bGVzL0B0ZWNodGVhbWVyL29jc3AvbGliL29jc3AvY2FjaGUuanM/MDg5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBvY3NwID0gcmVxdWlyZSgnLi4vb2NzcCcpXG5cbmNsYXNzIENhY2hlIHtcbiAgY29uc3RydWN0b3IgKG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gICAgdGhpcy5jYWNoZSA9IHt9XG5cbiAgICAvLyBPdmVycmlkZSBtZXRob2RzXG4gICAgaWYgKHRoaXMub3B0aW9ucy5wcm9iZSkge1xuICAgICAgdGhpcy5wcm9iZSA9IHRoaXMub3B0aW9ucy5wcm9iZVxuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLnN0b3JlKSB7XG4gICAgICB0aGlzLnN0b3JlID0gdGhpcy5vcHRpb25zLnN0b3JlXG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMuZmlsdGVyKSB7XG4gICAgICB0aGlzLmZpbHRlciA9IHRoaXMub3B0aW9ucy5maWx0ZXJcbiAgICB9XG4gIH1cblxuICBmaWx0ZXIgKHVybCwgY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayhudWxsKVxuICB9XG5cbiAgcHJvYmUgKGlkLCBjYWxsYmFjaykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jYWNoZSwgaWQpKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCB0aGlzLmNhY2hlW2lkXSlcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2sobnVsbCwgZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgc3RvcmUgKGlkLCByZXNwb25zZSwgbWF4VGltZSwgY2FsbGJhY2spIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY2FjaGUsIGlkKSkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY2FjaGVbaWRdLnRpbWVyKVxuICAgIH1cblxuICAgIHRoaXMuY2FjaGVbaWRdID0ge1xuICAgICAgcmVzcG9uc2UsXG4gICAgICB0aW1lcjogc2V0VGltZW91dCgoKSA9PiB7IGRlbGV0ZSB0aGlzLmNhY2hlW2lkXSB9LCBtYXhUaW1lKVxuICAgIH1cblxuICAgIGNhbGxiYWNrKG51bGwsIG51bGwpXG4gIH1cblxuICByZXF1ZXN0IChpZCwgZGF0YSwgY2FsbGJhY2spIHtcbiAgICBmdW5jdGlvbiBkb25lIChlcnIsIHJlc3BvbnNlKSB7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2soZXJyLCByZXNwb25zZSlcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrID0gbnVsbFxuICAgIH1cblxuICAgIGNvbnN0IG9uUmVzcG9uc2UgPSAoZXJyLCBvY3NwKSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBkb25lKGVycilcbiAgICAgIH1cblxuICAgICAgLy8gUmVzcG9uZCBlYXJseVxuICAgICAgZG9uZShudWxsLCBvY3NwKVxuXG4gICAgICAvLyBUcnkgcGFyc2luZyBhbmQgY2FjaGluZyByZXNwb25zZVxuICAgICAgdGhpcy5nZXRNYXhTdG9yZVRpbWUob2NzcCwgKGVyciwgbWF4VGltZSkgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0b3JlKGlkLCBvY3NwLCBtYXhUaW1lLCAoKSA9PiB7XG4gICAgICAgICAgLy8gTm8tb3BcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgdGhhdCB1cmwgaXNuJ3QgYmxhY2tsaXN0ZWRcbiAgICB0aGlzLmZpbHRlcihkYXRhLnVybCwgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gZG9uZShlcnIsIG51bGwpXG4gICAgICB9XG5cbiAgICAgIG9jc3AudXRpbHMuZ2V0UmVzcG9uc2UoZGF0YS51cmwsIGRhdGEub2NzcCwgb25SZXNwb25zZSlcbiAgICB9KVxuICB9XG5cbiAgZ2V0TWF4U3RvcmVUaW1lIChyZXNwb25zZSwgY2FsbGJhY2spIHtcbiAgICBsZXQgYmFzaWNcbiAgICB0cnkge1xuICAgICAgYmFzaWMgPSBvY3NwLnV0aWxzLnBhcnNlUmVzcG9uc2UocmVzcG9uc2UpLnZhbHVlXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGUpXG4gICAgfVxuXG4gICAgLy8gTm90IGVub3VnaCByZXNwb25zZXNcbiAgICBpZiAoYmFzaWMudGJzUmVzcG9uc2VEYXRhLnJlc3BvbnNlcy5sZW5ndGggPT09IDApIHsgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcignTm8gT0NTUCByZXNwb25zZXMnKSkgfVxuXG4gICAgY29uc3QgcmVzcG9uc2VzID0gYmFzaWMudGJzUmVzcG9uc2VEYXRhLnJlc3BvbnNlc1xuXG4gICAgLy8gRXZlcnkgcmVzcG9uc2Ugc2hvdWxkIGJlIHBvc2l0aXZlXG4gICAgY29uc3QgZ29vZCA9IHJlc3BvbnNlcy5ldmVyeShmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5jZXJ0U3RhdHVzLnR5cGUgPT09ICdnb29kJ1xuICAgIH0pXG5cbiAgICAvLyBObyBnb29kIC0gbm8gY2FjaGVcbiAgICBpZiAoIWdvb2QpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ1NvbWUgT0NTUCByZXNwb25zZXMgYXJlIG5vdCBnb29kJykpXG4gICAgfVxuXG4gICAgLy8gRmluZCBtaW5pbXVtIG5leHRVcGRhdGUgdGltZVxuICAgIGxldCBuZXh0VXBkYXRlID0gMFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzcG9uc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHJlc3BvbnNlc1tpXVxuICAgICAgY29uc3QgcmVzcG9uc2VOZXh0ID0gcmVzcG9uc2UubmV4dFVwZGF0ZVxuICAgICAgaWYgKCFyZXNwb25zZU5leHQpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cbiAgICAgIGlmIChuZXh0VXBkYXRlID09PSAwIHx8IG5leHRVcGRhdGUgPiByZXNwb25zZU5leHQpIHtcbiAgICAgICAgbmV4dFVwZGF0ZSA9IHJlc3BvbnNlTmV4dFxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjYWxsYmFjayhudWxsLCBNYXRoLm1pbihNYXRoLm1heCgwLCBuZXh0VXBkYXRlIC0gbmV3IERhdGUoKSksIDB4N0ZGRkZGRkYpKVxuICB9XG5cbiAgY2xlYXIgKCkge1xuICAgIGNvbnN0IGNhY2hlSWRzID0gT2JqZWN0LmtleXModGhpcy5jYWNoZSlcbiAgICBjYWNoZUlkcy5mb3JFYWNoKChjYWNoZUlkKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5jYWNoZVtjYWNoZUlkXS50aW1lcilcbiAgICAgIGRlbGV0ZSB0aGlzLmNhY2hlW2NhY2hlSWRdXG4gICAgfSlcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENhY2hlXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/cache.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/check.js":
/*!*********************************************************!*\
  !*** ./node_modules/@techteamer/ocsp/lib/ocsp/check.js ***!
  \*********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const ocsp = __webpack_require__(/*! ../ocsp */ \"(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp.js\")\n\nconst rfc2560 = __webpack_require__(/*! asn1.js-rfc2560 */ \"(rsc)/./node_modules/asn1.js-rfc2560/index.js\")\n\nmodule.exports = function check (options, cb) {\n  let sync = true\n  let req\n\n  function done (err, data) {\n    if (sync) {\n      sync = false\n      process.nextTick(function () {\n        cb(err, data)\n      })\n      return\n    }\n\n    cb(err, data)\n  }\n\n  try {\n    req = ocsp.request.generate(options.cert, options.issuer)\n  } catch (e) {\n    return done(e)\n  }\n\n  const ocspMethod = rfc2560['id-pkix-ocsp'].join('.')\n  ocsp.utils.getAuthorityInfo(req.cert, ocspMethod, function (err, uri) {\n    if (err) { return done(err) }\n\n    ocsp.utils.getResponse(uri, req.data, function (err, raw) {\n      if (err) {\n        return done(err)\n      }\n\n      try {\n        ocsp.verify({ request: req, response: raw }, done)\n      } catch (e) {\n        return done(e)\n      }\n    })\n  })\n\n  sync = false\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRlY2h0ZWFtZXIvb2NzcC9saWIvb2NzcC9jaGVjay5qcyIsIm1hcHBpbmdzIjoiQUFBQSxhQUFhLG1CQUFPLENBQUMsa0VBQVM7O0FBRTlCLGdCQUFnQixtQkFBTyxDQUFDLHNFQUFpQjs7QUFFekM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZTs7QUFFZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQiw2QkFBNkI7QUFDbkQsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWNjZXNzb3J5LXNhbGVzLXN1bW1hcnkvLi9ub2RlX21vZHVsZXMvQHRlY2h0ZWFtZXIvb2NzcC9saWIvb2NzcC9jaGVjay5qcz8wMzhhIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG9jc3AgPSByZXF1aXJlKCcuLi9vY3NwJylcblxuY29uc3QgcmZjMjU2MCA9IHJlcXVpcmUoJ2FzbjEuanMtcmZjMjU2MCcpXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY2hlY2sgKG9wdGlvbnMsIGNiKSB7XG4gIGxldCBzeW5jID0gdHJ1ZVxuICBsZXQgcmVxXG5cbiAgZnVuY3Rpb24gZG9uZSAoZXJyLCBkYXRhKSB7XG4gICAgaWYgKHN5bmMpIHtcbiAgICAgIHN5bmMgPSBmYWxzZVxuICAgICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNiKGVyciwgZGF0YSlcbiAgICAgIH0pXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjYihlcnIsIGRhdGEpXG4gIH1cblxuICB0cnkge1xuICAgIHJlcSA9IG9jc3AucmVxdWVzdC5nZW5lcmF0ZShvcHRpb25zLmNlcnQsIG9wdGlvbnMuaXNzdWVyKVxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGRvbmUoZSlcbiAgfVxuXG4gIGNvbnN0IG9jc3BNZXRob2QgPSByZmMyNTYwWydpZC1wa2l4LW9jc3AnXS5qb2luKCcuJylcbiAgb2NzcC51dGlscy5nZXRBdXRob3JpdHlJbmZvKHJlcS5jZXJ0LCBvY3NwTWV0aG9kLCBmdW5jdGlvbiAoZXJyLCB1cmkpIHtcbiAgICBpZiAoZXJyKSB7IHJldHVybiBkb25lKGVycikgfVxuXG4gICAgb2NzcC51dGlscy5nZXRSZXNwb25zZSh1cmksIHJlcS5kYXRhLCBmdW5jdGlvbiAoZXJyLCByYXcpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGRvbmUoZXJyKVxuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBvY3NwLnZlcmlmeSh7IHJlcXVlc3Q6IHJlcSwgcmVzcG9uc2U6IHJhdyB9LCBkb25lKVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZG9uZShlKVxuICAgICAgfVxuICAgIH0pXG4gIH0pXG5cbiAgc3luYyA9IGZhbHNlXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/check.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/request.js":
/*!***********************************************************!*\
  !*** ./node_modules/@techteamer/ocsp/lib/ocsp/request.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const ocsp = __webpack_require__(/*! ../ocsp */ \"(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp.js\")\nconst crypto = __webpack_require__(/*! crypto */ \"crypto\")\nconst rfc2560 = __webpack_require__(/*! asn1.js-rfc2560 */ \"(rsc)/./node_modules/asn1.js-rfc2560/index.js\")\nconst rfc5280 = __webpack_require__(/*! asn1.js-rfc5280 */ \"(rsc)/./node_modules/asn1.js-rfc5280/index.js\")\n\nfunction sha1 (data) {\n  return crypto.createHash('sha1').update(data).digest()\n}\n\nexports.generate = function generate (rawCert, rawIssuer) {\n  let cert\n  if (rawCert.tbsCertificate) {\n    cert = rawCert\n  } else {\n    cert = rfc5280.Certificate.decode(\n      ocsp.utils.toDER(rawCert, 'CERTIFICATE'),\n      'der')\n  }\n  let issuer\n  if (rawIssuer.tbsCertificate) {\n    issuer = rawIssuer\n  } else {\n    issuer = rfc5280.Certificate.decode(\n      ocsp.utils.toDER(rawIssuer, 'CERTIFICATE'),\n      'der')\n  }\n\n  const tbsCert = cert.tbsCertificate\n  const tbsIssuer = issuer.tbsCertificate\n\n  const certID = {\n    hashAlgorithm: {\n      // algorithm: [ 2, 16, 840, 1, 101, 3, 4, 2, 1 ]  // sha256\n      algorithm: [1, 3, 14, 3, 2, 26] // sha1\n    },\n    issuerNameHash: sha1(rfc5280.Name.encode(tbsCert.issuer, 'der')),\n    issuerKeyHash: sha1(\n      tbsIssuer.subjectPublicKeyInfo.subjectPublicKey.data),\n    serialNumber: tbsCert.serialNumber\n  }\n\n  const tbs = {\n    version: 'v1',\n    requestList: [{\n      reqCert: certID\n    }],\n    requestExtensions: [{\n      extnID: rfc2560['id-pkix-ocsp-nonce'],\n      critical: false,\n      extnValue: rfc2560.Nonce.encode(crypto.randomBytes(16), 'der')\n    }]\n  }\n\n  const req = {\n    tbsRequest: tbs\n  }\n\n  return {\n    id: sha1(rfc2560.CertID.encode(certID, 'der')),\n    certID,\n    data: rfc2560.OCSPRequest.encode(req, 'der'),\n\n    // Just to avoid re-parsing DER\n    cert,\n    issuer\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRlY2h0ZWFtZXIvb2NzcC9saWIvb2NzcC9yZXF1ZXN0LmpzIiwibWFwcGluZ3MiOiJBQUFBLGFBQWEsbUJBQU8sQ0FBQyxrRUFBUztBQUM5QixlQUFlLG1CQUFPLENBQUMsc0JBQVE7QUFDL0IsZ0JBQWdCLG1CQUFPLENBQUMsc0VBQWlCO0FBQ3pDLGdCQUFnQixtQkFBTyxDQUFDLHNFQUFpQjs7QUFFekM7QUFDQTtBQUNBOztBQUVBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWNjZXNzb3J5LXNhbGVzLXN1bW1hcnkvLi9ub2RlX21vZHVsZXMvQHRlY2h0ZWFtZXIvb2NzcC9saWIvb2NzcC9yZXF1ZXN0LmpzPzkxNzkiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgb2NzcCA9IHJlcXVpcmUoJy4uL29jc3AnKVxuY29uc3QgY3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJylcbmNvbnN0IHJmYzI1NjAgPSByZXF1aXJlKCdhc24xLmpzLXJmYzI1NjAnKVxuY29uc3QgcmZjNTI4MCA9IHJlcXVpcmUoJ2FzbjEuanMtcmZjNTI4MCcpXG5cbmZ1bmN0aW9uIHNoYTEgKGRhdGEpIHtcbiAgcmV0dXJuIGNyeXB0by5jcmVhdGVIYXNoKCdzaGExJykudXBkYXRlKGRhdGEpLmRpZ2VzdCgpXG59XG5cbmV4cG9ydHMuZ2VuZXJhdGUgPSBmdW5jdGlvbiBnZW5lcmF0ZSAocmF3Q2VydCwgcmF3SXNzdWVyKSB7XG4gIGxldCBjZXJ0XG4gIGlmIChyYXdDZXJ0LnRic0NlcnRpZmljYXRlKSB7XG4gICAgY2VydCA9IHJhd0NlcnRcbiAgfSBlbHNlIHtcbiAgICBjZXJ0ID0gcmZjNTI4MC5DZXJ0aWZpY2F0ZS5kZWNvZGUoXG4gICAgICBvY3NwLnV0aWxzLnRvREVSKHJhd0NlcnQsICdDRVJUSUZJQ0FURScpLFxuICAgICAgJ2RlcicpXG4gIH1cbiAgbGV0IGlzc3VlclxuICBpZiAocmF3SXNzdWVyLnRic0NlcnRpZmljYXRlKSB7XG4gICAgaXNzdWVyID0gcmF3SXNzdWVyXG4gIH0gZWxzZSB7XG4gICAgaXNzdWVyID0gcmZjNTI4MC5DZXJ0aWZpY2F0ZS5kZWNvZGUoXG4gICAgICBvY3NwLnV0aWxzLnRvREVSKHJhd0lzc3VlciwgJ0NFUlRJRklDQVRFJyksXG4gICAgICAnZGVyJylcbiAgfVxuXG4gIGNvbnN0IHRic0NlcnQgPSBjZXJ0LnRic0NlcnRpZmljYXRlXG4gIGNvbnN0IHRic0lzc3VlciA9IGlzc3Vlci50YnNDZXJ0aWZpY2F0ZVxuXG4gIGNvbnN0IGNlcnRJRCA9IHtcbiAgICBoYXNoQWxnb3JpdGhtOiB7XG4gICAgICAvLyBhbGdvcml0aG06IFsgMiwgMTYsIDg0MCwgMSwgMTAxLCAzLCA0LCAyLCAxIF0gIC8vIHNoYTI1NlxuICAgICAgYWxnb3JpdGhtOiBbMSwgMywgMTQsIDMsIDIsIDI2XSAvLyBzaGExXG4gICAgfSxcbiAgICBpc3N1ZXJOYW1lSGFzaDogc2hhMShyZmM1MjgwLk5hbWUuZW5jb2RlKHRic0NlcnQuaXNzdWVyLCAnZGVyJykpLFxuICAgIGlzc3VlcktleUhhc2g6IHNoYTEoXG4gICAgICB0YnNJc3N1ZXIuc3ViamVjdFB1YmxpY0tleUluZm8uc3ViamVjdFB1YmxpY0tleS5kYXRhKSxcbiAgICBzZXJpYWxOdW1iZXI6IHRic0NlcnQuc2VyaWFsTnVtYmVyXG4gIH1cblxuICBjb25zdCB0YnMgPSB7XG4gICAgdmVyc2lvbjogJ3YxJyxcbiAgICByZXF1ZXN0TGlzdDogW3tcbiAgICAgIHJlcUNlcnQ6IGNlcnRJRFxuICAgIH1dLFxuICAgIHJlcXVlc3RFeHRlbnNpb25zOiBbe1xuICAgICAgZXh0bklEOiByZmMyNTYwWydpZC1wa2l4LW9jc3Atbm9uY2UnXSxcbiAgICAgIGNyaXRpY2FsOiBmYWxzZSxcbiAgICAgIGV4dG5WYWx1ZTogcmZjMjU2MC5Ob25jZS5lbmNvZGUoY3J5cHRvLnJhbmRvbUJ5dGVzKDE2KSwgJ2RlcicpXG4gICAgfV1cbiAgfVxuXG4gIGNvbnN0IHJlcSA9IHtcbiAgICB0YnNSZXF1ZXN0OiB0YnNcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaWQ6IHNoYTEocmZjMjU2MC5DZXJ0SUQuZW5jb2RlKGNlcnRJRCwgJ2RlcicpKSxcbiAgICBjZXJ0SUQsXG4gICAgZGF0YTogcmZjMjU2MC5PQ1NQUmVxdWVzdC5lbmNvZGUocmVxLCAnZGVyJyksXG5cbiAgICAvLyBKdXN0IHRvIGF2b2lkIHJlLXBhcnNpbmcgREVSXG4gICAgY2VydCxcbiAgICBpc3N1ZXJcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/request.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/server.js":
/*!**********************************************************!*\
  !*** ./node_modules/@techteamer/ocsp/lib/ocsp/server.js ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const ocsp = __webpack_require__(/*! ../ocsp */ \"(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp.js\")\n\nconst http = __webpack_require__(/*! http */ \"http\")\nconst httpServer = http.Server\nconst crypto = __webpack_require__(/*! crypto */ \"crypto\")\n\nconst async = __webpack_require__(/*! async */ \"(rsc)/./node_modules/async/dist/async.mjs\")\nconst rfc2560 = __webpack_require__(/*! asn1.js-rfc2560 */ \"(rsc)/./node_modules/asn1.js-rfc2560/index.js\")\nconst rfc5280 = __webpack_require__(/*! asn1.js-rfc5280 */ \"(rsc)/./node_modules/asn1.js-rfc5280/index.js\")\n\nfunction handler (req, res) {\n  if (req.method !== 'POST') {\n    return res.writeHead(400)\n  }\n\n  if (req.headers['content-type'] !== 'application/ocsp-request') {\n    return res.writeHead(400)\n  }\n\n  const chunks = []\n  req.on('readable', function () {\n    const chunk = req.read()\n    if (chunk) { chunks.push(chunk) }\n  })\n\n  function errRes (status) {\n    return rfc2560.OCSPResponse.encode({\n      responseStatus: status\n    }, 'der')\n  }\n\n  function done (out) {\n    res.writeHead(200, {\n      'Content-Type': 'application/ocsp-response',\n      'Content-Length': out.length\n    })\n    res.end(out)\n  }\n\n  req.on('end', () => {\n    const body = Buffer.concat(chunks)\n    let ocspReq\n    try {\n      ocspReq = rfc2560.OCSPRequest.decode(body, 'der')\n    } catch (e) {\n      return done(errRes('malformed_request'))\n    }\n\n    this.getResponses(ocspReq, (err, responses) => {\n      // Assume not found\n      if (err) {\n        res.writeHead(404)\n        res.end()\n        return\n      }\n\n      return done(responses)\n    })\n  })\n}\n\nclass Server extends httpServer {\n  constructor (options) {\n    super(handler)\n\n    this.options = Object.assign({ nextUpdate: 24 * 3600 * 1e3 }, options)\n\n    this.key = this.options.key\n    this.certroot = rfc5280.Certificate.decode(\n      ocsp.utils.toDER(options.cert, 'CERTIFICATE'),\n      'der')\n    this.cert = this.certroot.tbsCertificate\n\n    const issuerName = rfc5280.Name.encode(this.cert.subject, 'der')\n    const issuerKey = this.cert.subjectPublicKeyInfo.subjectPublicKey.data\n\n    this.certID = {}\n    Object.keys(ocsp.utils.digestRev).forEach(function (digest) {\n      this.certID[digest] = {\n        issuerNameHash: crypto.createHash(digest).update(issuerName).digest(),\n        issuerKeyHash: crypto.createHash(digest).update(issuerKey).digest()\n      }\n    }, this)\n\n    this.certs = {}\n  }\n\n  static create (options) {\n    return new Server(options)\n  }\n\n  addCert (serial, status, info) {\n    this.certs[serial.toString(16)] = {\n      type: status,\n      value: info\n    }\n  }\n\n  getResponses (req, cb) {\n    const reqList = req.tbsRequest.requestList\n\n    // TODO(indutny): support signed requests\n    async.map(reqList, (req, cb) => {\n      this.getResponse(req, cb)\n    }, (err, responses) => {\n      if (err) { return cb(err) }\n\n      // TODO(indutny): send extensions\n      const basic = {\n        tbsResponseData: {\n          version: 'v1',\n          responderID: {\n            type: 'byKey',\n            value: this.certID.sha1.issuerKeyHash\n          },\n          producedAt: new Date(),\n          responses\n        },\n\n        signatureAlgorithm: {\n          algorithm: ocsp.utils.signRev.sha512WithRSAEncryption\n        },\n        signature: null,\n\n        certs: [\n          this.certroot\n        ]\n      }\n\n      const sign = crypto.createSign('sha512WithRSAEncryption')\n      sign.update(rfc2560.ResponseData.encode(basic.tbsResponseData, 'der'))\n      basic.signature = {\n        unused: 0,\n        data: sign.sign(this.key)\n      }\n\n      const res = {\n        responseStatus: 'successful',\n        responseBytes: {\n          responseType: 'id-pkix-ocsp-basic',\n          response: rfc2560.BasicOCSPResponse.encode(basic, 'der')\n        }\n      }\n\n      cb(null, rfc2560.OCSPResponse.encode(res, 'der'))\n    })\n  }\n\n  getResponse (req, cb) {\n    const certID = req.reqCert\n\n    const digestId = certID.hashAlgorithm.algorithm.join('.')\n    const digest = ocsp.utils.digest[digestId]\n    if (!digest) { return cb(new Error('Unknown digest: ' + digestId)) }\n\n    const expectedID = this.certID[digest]\n    if (!expectedID) { return cb(new Error('No pre-generated CertID for digest: ' + digest)) }\n\n    if (expectedID.issuerNameHash.toString('hex') !==\n      certID.issuerNameHash.toString('hex')) {\n      return cb(new Error('Issuer name mismatch'))\n    }\n\n    if (expectedID.issuerKeyHash.toString('hex') !==\n      certID.issuerKeyHash.toString('hex')) {\n      return cb(new Error('Issuer key mismatch'))\n    }\n\n    const serial = certID.serialNumber.toString(16)\n    const cert = this.certs[serial]\n\n    const response = {\n      certId: certID,\n      certStatus: null,\n      thisUpdate: new Date(),\n      nextUpdate: new Date(+new Date() + this.options.nextUpdate)\n    }\n    if (cert) {\n      response.certStatus = cert\n    } else {\n      response.certStatus = {\n        type: 'unknown',\n        value: null\n      }\n    }\n\n    cb(null, response)\n  }\n}\n\nmodule.exports = Server\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRlY2h0ZWFtZXIvb2NzcC9saWIvb2NzcC9zZXJ2ZXIuanMiLCJtYXBwaW5ncyI6IkFBQUEsYUFBYSxtQkFBTyxDQUFDLGtFQUFTOztBQUU5QixhQUFhLG1CQUFPLENBQUMsa0JBQU07QUFDM0I7QUFDQSxlQUFlLG1CQUFPLENBQUMsc0JBQVE7O0FBRS9CLGNBQWMsbUJBQU8sQ0FBQyx3REFBTztBQUM3QixnQkFBZ0IsbUJBQU8sQ0FBQyxzRUFBaUI7QUFDekMsZ0JBQWdCLG1CQUFPLENBQUMsc0VBQWlCOztBQUV6QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsbUNBQW1DLDZCQUE2Qjs7QUFFaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1COztBQUVuQjtBQUNBLHVCQUF1Qjs7QUFFdkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWNjZXNzb3J5LXNhbGVzLXN1bW1hcnkvLi9ub2RlX21vZHVsZXMvQHRlY2h0ZWFtZXIvb2NzcC9saWIvb2NzcC9zZXJ2ZXIuanM/YmZjNSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBvY3NwID0gcmVxdWlyZSgnLi4vb2NzcCcpXG5cbmNvbnN0IGh0dHAgPSByZXF1aXJlKCdodHRwJylcbmNvbnN0IGh0dHBTZXJ2ZXIgPSBodHRwLlNlcnZlclxuY29uc3QgY3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJylcblxuY29uc3QgYXN5bmMgPSByZXF1aXJlKCdhc3luYycpXG5jb25zdCByZmMyNTYwID0gcmVxdWlyZSgnYXNuMS5qcy1yZmMyNTYwJylcbmNvbnN0IHJmYzUyODAgPSByZXF1aXJlKCdhc24xLmpzLXJmYzUyODAnKVxuXG5mdW5jdGlvbiBoYW5kbGVyIChyZXEsIHJlcykge1xuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XG4gICAgcmV0dXJuIHJlcy53cml0ZUhlYWQoNDAwKVxuICB9XG5cbiAgaWYgKHJlcS5oZWFkZXJzWydjb250ZW50LXR5cGUnXSAhPT0gJ2FwcGxpY2F0aW9uL29jc3AtcmVxdWVzdCcpIHtcbiAgICByZXR1cm4gcmVzLndyaXRlSGVhZCg0MDApXG4gIH1cblxuICBjb25zdCBjaHVua3MgPSBbXVxuICByZXEub24oJ3JlYWRhYmxlJywgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGNodW5rID0gcmVxLnJlYWQoKVxuICAgIGlmIChjaHVuaykgeyBjaHVua3MucHVzaChjaHVuaykgfVxuICB9KVxuXG4gIGZ1bmN0aW9uIGVyclJlcyAoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHJmYzI1NjAuT0NTUFJlc3BvbnNlLmVuY29kZSh7XG4gICAgICByZXNwb25zZVN0YXR1czogc3RhdHVzXG4gICAgfSwgJ2RlcicpXG4gIH1cblxuICBmdW5jdGlvbiBkb25lIChvdXQpIHtcbiAgICByZXMud3JpdGVIZWFkKDIwMCwge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9vY3NwLXJlc3BvbnNlJyxcbiAgICAgICdDb250ZW50LUxlbmd0aCc6IG91dC5sZW5ndGhcbiAgICB9KVxuICAgIHJlcy5lbmQob3V0KVxuICB9XG5cbiAgcmVxLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgY29uc3QgYm9keSA9IEJ1ZmZlci5jb25jYXQoY2h1bmtzKVxuICAgIGxldCBvY3NwUmVxXG4gICAgdHJ5IHtcbiAgICAgIG9jc3BSZXEgPSByZmMyNTYwLk9DU1BSZXF1ZXN0LmRlY29kZShib2R5LCAnZGVyJylcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZG9uZShlcnJSZXMoJ21hbGZvcm1lZF9yZXF1ZXN0JykpXG4gICAgfVxuXG4gICAgdGhpcy5nZXRSZXNwb25zZXMob2NzcFJlcSwgKGVyciwgcmVzcG9uc2VzKSA9PiB7XG4gICAgICAvLyBBc3N1bWUgbm90IGZvdW5kXG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJlcy53cml0ZUhlYWQoNDA0KVxuICAgICAgICByZXMuZW5kKClcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkb25lKHJlc3BvbnNlcylcbiAgICB9KVxuICB9KVxufVxuXG5jbGFzcyBTZXJ2ZXIgZXh0ZW5kcyBodHRwU2VydmVyIHtcbiAgY29uc3RydWN0b3IgKG9wdGlvbnMpIHtcbiAgICBzdXBlcihoYW5kbGVyKVxuXG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IG5leHRVcGRhdGU6IDI0ICogMzYwMCAqIDFlMyB9LCBvcHRpb25zKVxuXG4gICAgdGhpcy5rZXkgPSB0aGlzLm9wdGlvbnMua2V5XG4gICAgdGhpcy5jZXJ0cm9vdCA9IHJmYzUyODAuQ2VydGlmaWNhdGUuZGVjb2RlKFxuICAgICAgb2NzcC51dGlscy50b0RFUihvcHRpb25zLmNlcnQsICdDRVJUSUZJQ0FURScpLFxuICAgICAgJ2RlcicpXG4gICAgdGhpcy5jZXJ0ID0gdGhpcy5jZXJ0cm9vdC50YnNDZXJ0aWZpY2F0ZVxuXG4gICAgY29uc3QgaXNzdWVyTmFtZSA9IHJmYzUyODAuTmFtZS5lbmNvZGUodGhpcy5jZXJ0LnN1YmplY3QsICdkZXInKVxuICAgIGNvbnN0IGlzc3VlcktleSA9IHRoaXMuY2VydC5zdWJqZWN0UHVibGljS2V5SW5mby5zdWJqZWN0UHVibGljS2V5LmRhdGFcblxuICAgIHRoaXMuY2VydElEID0ge31cbiAgICBPYmplY3Qua2V5cyhvY3NwLnV0aWxzLmRpZ2VzdFJldikuZm9yRWFjaChmdW5jdGlvbiAoZGlnZXN0KSB7XG4gICAgICB0aGlzLmNlcnRJRFtkaWdlc3RdID0ge1xuICAgICAgICBpc3N1ZXJOYW1lSGFzaDogY3J5cHRvLmNyZWF0ZUhhc2goZGlnZXN0KS51cGRhdGUoaXNzdWVyTmFtZSkuZGlnZXN0KCksXG4gICAgICAgIGlzc3VlcktleUhhc2g6IGNyeXB0by5jcmVhdGVIYXNoKGRpZ2VzdCkudXBkYXRlKGlzc3VlcktleSkuZGlnZXN0KClcbiAgICAgIH1cbiAgICB9LCB0aGlzKVxuXG4gICAgdGhpcy5jZXJ0cyA9IHt9XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBTZXJ2ZXIob3B0aW9ucylcbiAgfVxuXG4gIGFkZENlcnQgKHNlcmlhbCwgc3RhdHVzLCBpbmZvKSB7XG4gICAgdGhpcy5jZXJ0c1tzZXJpYWwudG9TdHJpbmcoMTYpXSA9IHtcbiAgICAgIHR5cGU6IHN0YXR1cyxcbiAgICAgIHZhbHVlOiBpbmZvXG4gICAgfVxuICB9XG5cbiAgZ2V0UmVzcG9uc2VzIChyZXEsIGNiKSB7XG4gICAgY29uc3QgcmVxTGlzdCA9IHJlcS50YnNSZXF1ZXN0LnJlcXVlc3RMaXN0XG5cbiAgICAvLyBUT0RPKGluZHV0bnkpOiBzdXBwb3J0IHNpZ25lZCByZXF1ZXN0c1xuICAgIGFzeW5jLm1hcChyZXFMaXN0LCAocmVxLCBjYikgPT4ge1xuICAgICAgdGhpcy5nZXRSZXNwb25zZShyZXEsIGNiKVxuICAgIH0sIChlcnIsIHJlc3BvbnNlcykgPT4ge1xuICAgICAgaWYgKGVycikgeyByZXR1cm4gY2IoZXJyKSB9XG5cbiAgICAgIC8vIFRPRE8oaW5kdXRueSk6IHNlbmQgZXh0ZW5zaW9uc1xuICAgICAgY29uc3QgYmFzaWMgPSB7XG4gICAgICAgIHRic1Jlc3BvbnNlRGF0YToge1xuICAgICAgICAgIHZlcnNpb246ICd2MScsXG4gICAgICAgICAgcmVzcG9uZGVySUQ6IHtcbiAgICAgICAgICAgIHR5cGU6ICdieUtleScsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5jZXJ0SUQuc2hhMS5pc3N1ZXJLZXlIYXNoXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwcm9kdWNlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIHJlc3BvbnNlc1xuICAgICAgICB9LFxuXG4gICAgICAgIHNpZ25hdHVyZUFsZ29yaXRobToge1xuICAgICAgICAgIGFsZ29yaXRobTogb2NzcC51dGlscy5zaWduUmV2LnNoYTUxMldpdGhSU0FFbmNyeXB0aW9uXG4gICAgICAgIH0sXG4gICAgICAgIHNpZ25hdHVyZTogbnVsbCxcblxuICAgICAgICBjZXJ0czogW1xuICAgICAgICAgIHRoaXMuY2VydHJvb3RcbiAgICAgICAgXVxuICAgICAgfVxuXG4gICAgICBjb25zdCBzaWduID0gY3J5cHRvLmNyZWF0ZVNpZ24oJ3NoYTUxMldpdGhSU0FFbmNyeXB0aW9uJylcbiAgICAgIHNpZ24udXBkYXRlKHJmYzI1NjAuUmVzcG9uc2VEYXRhLmVuY29kZShiYXNpYy50YnNSZXNwb25zZURhdGEsICdkZXInKSlcbiAgICAgIGJhc2ljLnNpZ25hdHVyZSA9IHtcbiAgICAgICAgdW51c2VkOiAwLFxuICAgICAgICBkYXRhOiBzaWduLnNpZ24odGhpcy5rZXkpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgcmVzcG9uc2VTdGF0dXM6ICdzdWNjZXNzZnVsJyxcbiAgICAgICAgcmVzcG9uc2VCeXRlczoge1xuICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2lkLXBraXgtb2NzcC1iYXNpYycsXG4gICAgICAgICAgcmVzcG9uc2U6IHJmYzI1NjAuQmFzaWNPQ1NQUmVzcG9uc2UuZW5jb2RlKGJhc2ljLCAnZGVyJylcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjYihudWxsLCByZmMyNTYwLk9DU1BSZXNwb25zZS5lbmNvZGUocmVzLCAnZGVyJykpXG4gICAgfSlcbiAgfVxuXG4gIGdldFJlc3BvbnNlIChyZXEsIGNiKSB7XG4gICAgY29uc3QgY2VydElEID0gcmVxLnJlcUNlcnRcblxuICAgIGNvbnN0IGRpZ2VzdElkID0gY2VydElELmhhc2hBbGdvcml0aG0uYWxnb3JpdGhtLmpvaW4oJy4nKVxuICAgIGNvbnN0IGRpZ2VzdCA9IG9jc3AudXRpbHMuZGlnZXN0W2RpZ2VzdElkXVxuICAgIGlmICghZGlnZXN0KSB7IHJldHVybiBjYihuZXcgRXJyb3IoJ1Vua25vd24gZGlnZXN0OiAnICsgZGlnZXN0SWQpKSB9XG5cbiAgICBjb25zdCBleHBlY3RlZElEID0gdGhpcy5jZXJ0SURbZGlnZXN0XVxuICAgIGlmICghZXhwZWN0ZWRJRCkgeyByZXR1cm4gY2IobmV3IEVycm9yKCdObyBwcmUtZ2VuZXJhdGVkIENlcnRJRCBmb3IgZGlnZXN0OiAnICsgZGlnZXN0KSkgfVxuXG4gICAgaWYgKGV4cGVjdGVkSUQuaXNzdWVyTmFtZUhhc2gudG9TdHJpbmcoJ2hleCcpICE9PVxuICAgICAgY2VydElELmlzc3Vlck5hbWVIYXNoLnRvU3RyaW5nKCdoZXgnKSkge1xuICAgICAgcmV0dXJuIGNiKG5ldyBFcnJvcignSXNzdWVyIG5hbWUgbWlzbWF0Y2gnKSlcbiAgICB9XG5cbiAgICBpZiAoZXhwZWN0ZWRJRC5pc3N1ZXJLZXlIYXNoLnRvU3RyaW5nKCdoZXgnKSAhPT1cbiAgICAgIGNlcnRJRC5pc3N1ZXJLZXlIYXNoLnRvU3RyaW5nKCdoZXgnKSkge1xuICAgICAgcmV0dXJuIGNiKG5ldyBFcnJvcignSXNzdWVyIGtleSBtaXNtYXRjaCcpKVxuICAgIH1cblxuICAgIGNvbnN0IHNlcmlhbCA9IGNlcnRJRC5zZXJpYWxOdW1iZXIudG9TdHJpbmcoMTYpXG4gICAgY29uc3QgY2VydCA9IHRoaXMuY2VydHNbc2VyaWFsXVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICBjZXJ0SWQ6IGNlcnRJRCxcbiAgICAgIGNlcnRTdGF0dXM6IG51bGwsXG4gICAgICB0aGlzVXBkYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgbmV4dFVwZGF0ZTogbmV3IERhdGUoK25ldyBEYXRlKCkgKyB0aGlzLm9wdGlvbnMubmV4dFVwZGF0ZSlcbiAgICB9XG4gICAgaWYgKGNlcnQpIHtcbiAgICAgIHJlc3BvbnNlLmNlcnRTdGF0dXMgPSBjZXJ0XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3BvbnNlLmNlcnRTdGF0dXMgPSB7XG4gICAgICAgIHR5cGU6ICd1bmtub3duJyxcbiAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjYihudWxsLCByZXNwb25zZSlcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNlcnZlclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/server.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/utils.js":
/*!*********************************************************!*\
  !*** ./node_modules/@techteamer/ocsp/lib/ocsp/utils.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const http = __webpack_require__(/*! http */ \"http\")\nconst asn1 = __webpack_require__(/*! asn1.js */ \"(rsc)/./node_modules/asn1.js/lib/asn1.js\")\n\nconst rfc2560 = __webpack_require__(/*! asn1.js-rfc2560 */ \"(rsc)/./node_modules/asn1.js-rfc2560/index.js\")\nconst Buffer = (__webpack_require__(/*! buffer */ \"buffer\").Buffer)\n\nexports[\"id-ad-caIssuers\"] = [1, 3, 6, 1, 5, 5, 7, 48, 2]\nexports[\"id-kp-OCSPSigning\"] = [1, 3, 6, 1, 5, 5, 7, 3, 9]\n\nexports.getResponse = function getResponse (uri, req, cb) {\n  const options = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/ocsp-request',\n      'Content-Length': req.length\n    }\n  }\n\n  function done (err, response) {\n    if (cb) { cb(err, response) }\n    cb = null\n  }\n\n  function onResponse (response) {\n    if (response.statusCode < 200 || response.statusCode >= 400) {\n      return done(new Error('Failed to obtain OCSP response: ' + response.statusCode))\n    }\n\n    const chunks = []\n    response.on('readable', function () {\n      const chunk = response.read()\n      if (!chunk) { return }\n      chunks.push(chunk)\n    })\n\n    response.on('end', function () {\n      const ocsp = Buffer.concat(chunks)\n\n      done(null, ocsp)\n    })\n  }\n\n  http.request(uri, options, onResponse)\n    .on('error', done)\n    .end(req)\n}\n\nexports.parseResponse = function parseResponse (raw) {\n  const body = { start: 0, end: raw.length }\n  const response = rfc2560.OCSPResponse.decode(raw, 'der', {\n    track: function (key, start, end, type) {\n      if (type !== 'content' || key !== 'responseBytes/response') {\n        return\n      }\n\n      body.start = start\n      body.end = end\n    }\n  })\n\n  const status = response.responseStatus\n  if (status !== 'successful') {\n    throw new Error('Bad OCSP response status: ' + status)\n  }\n\n  // Unknown response type\n  const responseType = response.responseBytes.responseType\n  if (responseType !== 'id-pkix-ocsp-basic') {\n    throw new Error('Unknown OCSP response type: ' + responseType)\n  }\n\n  const bytes = response.responseBytes.response\n\n  const tbs = { start: body.start, end: body.end }\n  const certsTbs = []\n  const basic = rfc2560.BasicOCSPResponse.decode(bytes, 'der', {\n    track: function (key, start, end, type) {\n      if (type !== 'tagged') {\n        return\n      }\n\n      if (key === 'tbsResponseData') {\n        tbs.start = body.start + start\n        tbs.end = body.start + end\n      } else if (key === 'certs/tbsCertificate') {\n        certsTbs.push({ start: body.start + start, end: body.start + end })\n      }\n    }\n  })\n\n  const OCSPSigning = exports['id-kp-OCSPSigning'].join('.')\n  const certs = (basic.certs || []).filter(function (cert) {\n    return cert.tbsCertificate.extensions.some(function (ext) {\n      if (ext.extnID !== 'extendedKeyUsage') { return false }\n\n      return ext.extnValue.some(function (value) {\n        return value.join('.') === OCSPSigning\n      })\n    })\n  })\n\n  return {\n    start: tbs.start,\n    end: tbs.end,\n    value: basic,\n    certs,\n    certsTbs\n  }\n}\n\nexports.digest = {\n  '1.3.14.3.2.26': 'sha1',\n  '2.16.840.1.101.3.4.2.1': 'sha256'\n}\n\nexports.digestRev = {\n  sha1: '1.3.14.3.2.26',\n  sha256: '2.16.840.1.101.3.4.2.1'\n}\n\nexports.sign = {\n  '1.2.840.113549.1.1.5': 'sha1WithRSAEncryption',\n  '1.2.840.113549.1.1.4': 'md5WithRSAEncryption',\n  '1.2.840.113549.1.1.2': 'md2WithRSAEncryption', // SignatureALG HashMD2 PubKeyALG_RSA\n  '1.2.840.113549.1.1.11': 'sha256WithRSAEncryption',\n  '1.2.840.113549.1.1.12': 'sha384WithRSAEncryption',\n  '1.2.840.113549.1.1.13': 'sha512WithRSAEncryption',\n  '1.2.840.113549.1.1.14': 'sha224WithRSAEncryption',\n  '1.2.840.10040.4.3': 'dsaWithSHA1', // 'SignatureALG HashSHA1 PubKeyALG_DSA'\n  '1.2.840.10045.4.1': 'ecdsa-with-SHA1', // 'SignatureALG HashSHA1 PubKeyALG_EC'\n  '1.2.840.10045.4.3.1': 'SHA224', // 'SignatureALG HashSHA224 PubKeyALG_EC'\n  '1.2.840.10045.4.3.2': 'SHA256', // 'SignatureALG HashSHA256 PubKeyALG_EC'\n  '1.2.840.10045.4.3.3': 'SHA384', // 'SignatureALG HashSHA384 PubKeyALG_EC'\n  '1.2.840.10045.4.3.4': 'SHA512', // 'SignatureALG HashSHA512 PubKeyALG_EC'\n  '2.16.840.1.101.3.4.2.1': 'SHA256', // 'SignatureALG HashSHA256 PubKeyALG_RSAPSS'\n  '2.16.840.1.101.3.4.2.2': 'SHA384', // 'SignatureALG HashSHA384 PubKeyALG_RSAPSS'\n  '2.16.840.1.101.3.4.2.3': 'SHA512', // 'SignatureALG HashSHA512 PubKeyALG_RSAPSS'\n  '2.16.840.1.101.3.4.2.4': 'SHA224', // 'SignatureALG HashSHA224 PubKeyALG_RSAPSS'\n  '2.16.840.1.101.3.4.3.1': 'SHA224', // 'SignatureALG HashSHA224 PubKeyALG_DSA'\n  '2.16.840.1.101.3.4.3.2': 'SHA256' // 'SignatureALG HashSHA256 PubKeyALG_DSA'\n}\n\nexports.signRev = {\n  sha1WithRSAEncryption: [1, 2, 840, 113549, 1, 1, 5],\n  sha256WithRSAEncryption: [1, 2, 840, 113549, 1, 1, 11],\n  sha384WithRSAEncryption: [1, 2, 840, 113549, 1, 1, 12],\n  sha512WithRSAEncryption: [1, 2, 840, 113549, 1, 1, 13]\n}\n\nexports.toPEM = function toPEM (buf, label) {\n  const p = buf.toString('base64')\n  const out = ['-----BEGIN ' + label + '-----']\n  for (let i = 0; i < p.length; i += 64) { out.push(p.slice(i, i + 64)) }\n  out.push('-----END ' + label + '-----')\n  return out.join('\\n')\n}\n\nexports.toDER = function toDER (raw, what) {\n  let der = raw.toString().match(new RegExp('-----BEGIN ' + what + '-----([^-]*)-----END ' + what + '-----'))\n\n  if (der) {\n    der = Buffer.from(der[1].replace(/[\\r\\n]/g, ''), 'base64')\n  } else if (typeof raw === 'string') {\n    der = Buffer.from(raw)\n  } else {\n    der = raw\n  }\n\n  return der\n}\n\nexports.getAuthorityInfo = function getAuthorityInfo (cert, key, done) {\n  let exts = cert.tbsCertificate.extensions\n  if (!exts) { exts = [] }\n\n  const infoAccess = exts.filter(function (ext) {\n    return ext.extnID === 'authorityInformationAccess'\n  })\n\n  if (infoAccess.length === 0) { return done(new Error('AuthorityInfoAccess not found in extensions')) }\n\n  let res = null\n  const found = infoAccess.some(function (info) {\n    const ext = info.extnValue\n\n    return ext.some(function (ad) {\n      if (ad.accessMethod.join('.') !== key) { return false }\n\n      const loc = ad.accessLocation\n      if (loc.type !== 'uniformResourceIdentifier') { return false }\n\n      res = loc.value + ''\n\n      return true\n    })\n  })\n\n  if (!found) { return done(new Error(key + ' not found in AuthorityInfoAccess')) }\n\n  return done(null, res)\n}\n\nconst RSAPrivateKey = asn1.define('RSAPrivateKey', function () {\n  this.seq().obj(\n    this.key('version').int(),\n    this.key('modulus').int(),\n    this.key('publicExponent').int(),\n    this.key('privateExponent').int(),\n    this.key('prime1').int(),\n    this.key('prime2').int(),\n    this.key('exponent1').int(),\n    this.key('exponent2').int(),\n    this.key('coefficient').int()\n  )\n})\nexports.RSAPrivateKey = RSAPrivateKey\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRlY2h0ZWFtZXIvb2NzcC9saWIvb2NzcC91dGlscy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxhQUFhLG1CQUFPLENBQUMsa0JBQU07QUFDM0IsYUFBYSxtQkFBTyxDQUFDLHlEQUFTOztBQUU5QixnQkFBZ0IsbUJBQU8sQ0FBQyxzRUFBaUI7QUFDekMsZUFBZSxvREFBd0I7O0FBRXZDLDBCQUEwQjtBQUMxQiw0QkFBNEI7O0FBRTVCLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLHdCQUF3QixrREFBa0Q7QUFDMUU7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsK0NBQStDOztBQUUvQztBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBOztBQUVBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGFBQWE7QUFDYjtBQUNBO0FBQ0Esa0JBQWtCLGNBQWMsV0FBVztBQUMzQztBQUNBO0FBQ0E7O0FBRUEsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHdCQUF3QjtBQUN4QjtBQUNBLGVBQWU7O0FBRWY7QUFDQTtBQUNBLEdBQUc7O0FBRUgsaUNBQWlDOztBQUVqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0M7O0FBRS9DO0FBQ0Esc0RBQXNEOztBQUV0RDs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVILGdCQUFnQjs7QUFFaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QscUJBQXFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWNjZXNzb3J5LXNhbGVzLXN1bW1hcnkvLi9ub2RlX21vZHVsZXMvQHRlY2h0ZWFtZXIvb2NzcC9saWIvb2NzcC91dGlscy5qcz9mMmJiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGh0dHAgPSByZXF1aXJlKCdodHRwJylcbmNvbnN0IGFzbjEgPSByZXF1aXJlKCdhc24xLmpzJylcblxuY29uc3QgcmZjMjU2MCA9IHJlcXVpcmUoJ2FzbjEuanMtcmZjMjU2MCcpXG5jb25zdCBCdWZmZXIgPSByZXF1aXJlKCdidWZmZXInKS5CdWZmZXJcblxuZXhwb3J0c1snaWQtYWQtY2FJc3N1ZXJzJ10gPSBbMSwgMywgNiwgMSwgNSwgNSwgNywgNDgsIDJdXG5leHBvcnRzWydpZC1rcC1PQ1NQU2lnbmluZyddID0gWzEsIDMsIDYsIDEsIDUsIDUsIDcsIDMsIDldXG5cbmV4cG9ydHMuZ2V0UmVzcG9uc2UgPSBmdW5jdGlvbiBnZXRSZXNwb25zZSAodXJpLCByZXEsIGNiKSB7XG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9vY3NwLXJlcXVlc3QnLFxuICAgICAgJ0NvbnRlbnQtTGVuZ3RoJzogcmVxLmxlbmd0aFxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRvbmUgKGVyciwgcmVzcG9uc2UpIHtcbiAgICBpZiAoY2IpIHsgY2IoZXJyLCByZXNwb25zZSkgfVxuICAgIGNiID0gbnVsbFxuICB9XG5cbiAgZnVuY3Rpb24gb25SZXNwb25zZSAocmVzcG9uc2UpIHtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA8IDIwMCB8fCByZXNwb25zZS5zdGF0dXNDb2RlID49IDQwMCkge1xuICAgICAgcmV0dXJuIGRvbmUobmV3IEVycm9yKCdGYWlsZWQgdG8gb2J0YWluIE9DU1AgcmVzcG9uc2U6ICcgKyByZXNwb25zZS5zdGF0dXNDb2RlKSlcbiAgICB9XG5cbiAgICBjb25zdCBjaHVua3MgPSBbXVxuICAgIHJlc3BvbnNlLm9uKCdyZWFkYWJsZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGNodW5rID0gcmVzcG9uc2UucmVhZCgpXG4gICAgICBpZiAoIWNodW5rKSB7IHJldHVybiB9XG4gICAgICBjaHVua3MucHVzaChjaHVuaylcbiAgICB9KVxuXG4gICAgcmVzcG9uc2Uub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IG9jc3AgPSBCdWZmZXIuY29uY2F0KGNodW5rcylcblxuICAgICAgZG9uZShudWxsLCBvY3NwKVxuICAgIH0pXG4gIH1cblxuICBodHRwLnJlcXVlc3QodXJpLCBvcHRpb25zLCBvblJlc3BvbnNlKVxuICAgIC5vbignZXJyb3InLCBkb25lKVxuICAgIC5lbmQocmVxKVxufVxuXG5leHBvcnRzLnBhcnNlUmVzcG9uc2UgPSBmdW5jdGlvbiBwYXJzZVJlc3BvbnNlIChyYXcpIHtcbiAgY29uc3QgYm9keSA9IHsgc3RhcnQ6IDAsIGVuZDogcmF3Lmxlbmd0aCB9XG4gIGNvbnN0IHJlc3BvbnNlID0gcmZjMjU2MC5PQ1NQUmVzcG9uc2UuZGVjb2RlKHJhdywgJ2RlcicsIHtcbiAgICB0cmFjazogZnVuY3Rpb24gKGtleSwgc3RhcnQsIGVuZCwgdHlwZSkge1xuICAgICAgaWYgKHR5cGUgIT09ICdjb250ZW50JyB8fCBrZXkgIT09ICdyZXNwb25zZUJ5dGVzL3Jlc3BvbnNlJykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgYm9keS5zdGFydCA9IHN0YXJ0XG4gICAgICBib2R5LmVuZCA9IGVuZFxuICAgIH1cbiAgfSlcblxuICBjb25zdCBzdGF0dXMgPSByZXNwb25zZS5yZXNwb25zZVN0YXR1c1xuICBpZiAoc3RhdHVzICE9PSAnc3VjY2Vzc2Z1bCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0JhZCBPQ1NQIHJlc3BvbnNlIHN0YXR1czogJyArIHN0YXR1cylcbiAgfVxuXG4gIC8vIFVua25vd24gcmVzcG9uc2UgdHlwZVxuICBjb25zdCByZXNwb25zZVR5cGUgPSByZXNwb25zZS5yZXNwb25zZUJ5dGVzLnJlc3BvbnNlVHlwZVxuICBpZiAocmVzcG9uc2VUeXBlICE9PSAnaWQtcGtpeC1vY3NwLWJhc2ljJykge1xuICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBPQ1NQIHJlc3BvbnNlIHR5cGU6ICcgKyByZXNwb25zZVR5cGUpXG4gIH1cblxuICBjb25zdCBieXRlcyA9IHJlc3BvbnNlLnJlc3BvbnNlQnl0ZXMucmVzcG9uc2VcblxuICBjb25zdCB0YnMgPSB7IHN0YXJ0OiBib2R5LnN0YXJ0LCBlbmQ6IGJvZHkuZW5kIH1cbiAgY29uc3QgY2VydHNUYnMgPSBbXVxuICBjb25zdCBiYXNpYyA9IHJmYzI1NjAuQmFzaWNPQ1NQUmVzcG9uc2UuZGVjb2RlKGJ5dGVzLCAnZGVyJywge1xuICAgIHRyYWNrOiBmdW5jdGlvbiAoa2V5LCBzdGFydCwgZW5kLCB0eXBlKSB7XG4gICAgICBpZiAodHlwZSAhPT0gJ3RhZ2dlZCcpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlmIChrZXkgPT09ICd0YnNSZXNwb25zZURhdGEnKSB7XG4gICAgICAgIHRicy5zdGFydCA9IGJvZHkuc3RhcnQgKyBzdGFydFxuICAgICAgICB0YnMuZW5kID0gYm9keS5zdGFydCArIGVuZFxuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdjZXJ0cy90YnNDZXJ0aWZpY2F0ZScpIHtcbiAgICAgICAgY2VydHNUYnMucHVzaCh7IHN0YXJ0OiBib2R5LnN0YXJ0ICsgc3RhcnQsIGVuZDogYm9keS5zdGFydCArIGVuZCB9KVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuICBjb25zdCBPQ1NQU2lnbmluZyA9IGV4cG9ydHNbJ2lkLWtwLU9DU1BTaWduaW5nJ10uam9pbignLicpXG4gIGNvbnN0IGNlcnRzID0gKGJhc2ljLmNlcnRzIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGNlcnQpIHtcbiAgICByZXR1cm4gY2VydC50YnNDZXJ0aWZpY2F0ZS5leHRlbnNpb25zLnNvbWUoZnVuY3Rpb24gKGV4dCkge1xuICAgICAgaWYgKGV4dC5leHRuSUQgIT09ICdleHRlbmRlZEtleVVzYWdlJykgeyByZXR1cm4gZmFsc2UgfVxuXG4gICAgICByZXR1cm4gZXh0LmV4dG5WYWx1ZS5zb21lKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUuam9pbignLicpID09PSBPQ1NQU2lnbmluZ1xuICAgICAgfSlcbiAgICB9KVxuICB9KVxuXG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IHRicy5zdGFydCxcbiAgICBlbmQ6IHRicy5lbmQsXG4gICAgdmFsdWU6IGJhc2ljLFxuICAgIGNlcnRzLFxuICAgIGNlcnRzVGJzXG4gIH1cbn1cblxuZXhwb3J0cy5kaWdlc3QgPSB7XG4gICcxLjMuMTQuMy4yLjI2JzogJ3NoYTEnLFxuICAnMi4xNi44NDAuMS4xMDEuMy40LjIuMSc6ICdzaGEyNTYnXG59XG5cbmV4cG9ydHMuZGlnZXN0UmV2ID0ge1xuICBzaGExOiAnMS4zLjE0LjMuMi4yNicsXG4gIHNoYTI1NjogJzIuMTYuODQwLjEuMTAxLjMuNC4yLjEnXG59XG5cbmV4cG9ydHMuc2lnbiA9IHtcbiAgJzEuMi44NDAuMTEzNTQ5LjEuMS41JzogJ3NoYTFXaXRoUlNBRW5jcnlwdGlvbicsXG4gICcxLjIuODQwLjExMzU0OS4xLjEuNCc6ICdtZDVXaXRoUlNBRW5jcnlwdGlvbicsXG4gICcxLjIuODQwLjExMzU0OS4xLjEuMic6ICdtZDJXaXRoUlNBRW5jcnlwdGlvbicsIC8vIFNpZ25hdHVyZUFMRyBIYXNoTUQyIFB1YktleUFMR19SU0FcbiAgJzEuMi44NDAuMTEzNTQ5LjEuMS4xMSc6ICdzaGEyNTZXaXRoUlNBRW5jcnlwdGlvbicsXG4gICcxLjIuODQwLjExMzU0OS4xLjEuMTInOiAnc2hhMzg0V2l0aFJTQUVuY3J5cHRpb24nLFxuICAnMS4yLjg0MC4xMTM1NDkuMS4xLjEzJzogJ3NoYTUxMldpdGhSU0FFbmNyeXB0aW9uJyxcbiAgJzEuMi44NDAuMTEzNTQ5LjEuMS4xNCc6ICdzaGEyMjRXaXRoUlNBRW5jcnlwdGlvbicsXG4gICcxLjIuODQwLjEwMDQwLjQuMyc6ICdkc2FXaXRoU0hBMScsIC8vICdTaWduYXR1cmVBTEcgSGFzaFNIQTEgUHViS2V5QUxHX0RTQSdcbiAgJzEuMi44NDAuMTAwNDUuNC4xJzogJ2VjZHNhLXdpdGgtU0hBMScsIC8vICdTaWduYXR1cmVBTEcgSGFzaFNIQTEgUHViS2V5QUxHX0VDJ1xuICAnMS4yLjg0MC4xMDA0NS40LjMuMSc6ICdTSEEyMjQnLCAvLyAnU2lnbmF0dXJlQUxHIEhhc2hTSEEyMjQgUHViS2V5QUxHX0VDJ1xuICAnMS4yLjg0MC4xMDA0NS40LjMuMic6ICdTSEEyNTYnLCAvLyAnU2lnbmF0dXJlQUxHIEhhc2hTSEEyNTYgUHViS2V5QUxHX0VDJ1xuICAnMS4yLjg0MC4xMDA0NS40LjMuMyc6ICdTSEEzODQnLCAvLyAnU2lnbmF0dXJlQUxHIEhhc2hTSEEzODQgUHViS2V5QUxHX0VDJ1xuICAnMS4yLjg0MC4xMDA0NS40LjMuNCc6ICdTSEE1MTInLCAvLyAnU2lnbmF0dXJlQUxHIEhhc2hTSEE1MTIgUHViS2V5QUxHX0VDJ1xuICAnMi4xNi44NDAuMS4xMDEuMy40LjIuMSc6ICdTSEEyNTYnLCAvLyAnU2lnbmF0dXJlQUxHIEhhc2hTSEEyNTYgUHViS2V5QUxHX1JTQVBTUydcbiAgJzIuMTYuODQwLjEuMTAxLjMuNC4yLjInOiAnU0hBMzg0JywgLy8gJ1NpZ25hdHVyZUFMRyBIYXNoU0hBMzg0IFB1YktleUFMR19SU0FQU1MnXG4gICcyLjE2Ljg0MC4xLjEwMS4zLjQuMi4zJzogJ1NIQTUxMicsIC8vICdTaWduYXR1cmVBTEcgSGFzaFNIQTUxMiBQdWJLZXlBTEdfUlNBUFNTJ1xuICAnMi4xNi44NDAuMS4xMDEuMy40LjIuNCc6ICdTSEEyMjQnLCAvLyAnU2lnbmF0dXJlQUxHIEhhc2hTSEEyMjQgUHViS2V5QUxHX1JTQVBTUydcbiAgJzIuMTYuODQwLjEuMTAxLjMuNC4zLjEnOiAnU0hBMjI0JywgLy8gJ1NpZ25hdHVyZUFMRyBIYXNoU0hBMjI0IFB1YktleUFMR19EU0EnXG4gICcyLjE2Ljg0MC4xLjEwMS4zLjQuMy4yJzogJ1NIQTI1NicgLy8gJ1NpZ25hdHVyZUFMRyBIYXNoU0hBMjU2IFB1YktleUFMR19EU0EnXG59XG5cbmV4cG9ydHMuc2lnblJldiA9IHtcbiAgc2hhMVdpdGhSU0FFbmNyeXB0aW9uOiBbMSwgMiwgODQwLCAxMTM1NDksIDEsIDEsIDVdLFxuICBzaGEyNTZXaXRoUlNBRW5jcnlwdGlvbjogWzEsIDIsIDg0MCwgMTEzNTQ5LCAxLCAxLCAxMV0sXG4gIHNoYTM4NFdpdGhSU0FFbmNyeXB0aW9uOiBbMSwgMiwgODQwLCAxMTM1NDksIDEsIDEsIDEyXSxcbiAgc2hhNTEyV2l0aFJTQUVuY3J5cHRpb246IFsxLCAyLCA4NDAsIDExMzU0OSwgMSwgMSwgMTNdXG59XG5cbmV4cG9ydHMudG9QRU0gPSBmdW5jdGlvbiB0b1BFTSAoYnVmLCBsYWJlbCkge1xuICBjb25zdCBwID0gYnVmLnRvU3RyaW5nKCdiYXNlNjQnKVxuICBjb25zdCBvdXQgPSBbJy0tLS0tQkVHSU4gJyArIGxhYmVsICsgJy0tLS0tJ11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwLmxlbmd0aDsgaSArPSA2NCkgeyBvdXQucHVzaChwLnNsaWNlKGksIGkgKyA2NCkpIH1cbiAgb3V0LnB1c2goJy0tLS0tRU5EICcgKyBsYWJlbCArICctLS0tLScpXG4gIHJldHVybiBvdXQuam9pbignXFxuJylcbn1cblxuZXhwb3J0cy50b0RFUiA9IGZ1bmN0aW9uIHRvREVSIChyYXcsIHdoYXQpIHtcbiAgbGV0IGRlciA9IHJhdy50b1N0cmluZygpLm1hdGNoKG5ldyBSZWdFeHAoJy0tLS0tQkVHSU4gJyArIHdoYXQgKyAnLS0tLS0oW14tXSopLS0tLS1FTkQgJyArIHdoYXQgKyAnLS0tLS0nKSlcblxuICBpZiAoZGVyKSB7XG4gICAgZGVyID0gQnVmZmVyLmZyb20oZGVyWzFdLnJlcGxhY2UoL1tcXHJcXG5dL2csICcnKSwgJ2Jhc2U2NCcpXG4gIH0gZWxzZSBpZiAodHlwZW9mIHJhdyA9PT0gJ3N0cmluZycpIHtcbiAgICBkZXIgPSBCdWZmZXIuZnJvbShyYXcpXG4gIH0gZWxzZSB7XG4gICAgZGVyID0gcmF3XG4gIH1cblxuICByZXR1cm4gZGVyXG59XG5cbmV4cG9ydHMuZ2V0QXV0aG9yaXR5SW5mbyA9IGZ1bmN0aW9uIGdldEF1dGhvcml0eUluZm8gKGNlcnQsIGtleSwgZG9uZSkge1xuICBsZXQgZXh0cyA9IGNlcnQudGJzQ2VydGlmaWNhdGUuZXh0ZW5zaW9uc1xuICBpZiAoIWV4dHMpIHsgZXh0cyA9IFtdIH1cblxuICBjb25zdCBpbmZvQWNjZXNzID0gZXh0cy5maWx0ZXIoZnVuY3Rpb24gKGV4dCkge1xuICAgIHJldHVybiBleHQuZXh0bklEID09PSAnYXV0aG9yaXR5SW5mb3JtYXRpb25BY2Nlc3MnXG4gIH0pXG5cbiAgaWYgKGluZm9BY2Nlc3MubGVuZ3RoID09PSAwKSB7IHJldHVybiBkb25lKG5ldyBFcnJvcignQXV0aG9yaXR5SW5mb0FjY2VzcyBub3QgZm91bmQgaW4gZXh0ZW5zaW9ucycpKSB9XG5cbiAgbGV0IHJlcyA9IG51bGxcbiAgY29uc3QgZm91bmQgPSBpbmZvQWNjZXNzLnNvbWUoZnVuY3Rpb24gKGluZm8pIHtcbiAgICBjb25zdCBleHQgPSBpbmZvLmV4dG5WYWx1ZVxuXG4gICAgcmV0dXJuIGV4dC5zb21lKGZ1bmN0aW9uIChhZCkge1xuICAgICAgaWYgKGFkLmFjY2Vzc01ldGhvZC5qb2luKCcuJykgIT09IGtleSkgeyByZXR1cm4gZmFsc2UgfVxuXG4gICAgICBjb25zdCBsb2MgPSBhZC5hY2Nlc3NMb2NhdGlvblxuICAgICAgaWYgKGxvYy50eXBlICE9PSAndW5pZm9ybVJlc291cmNlSWRlbnRpZmllcicpIHsgcmV0dXJuIGZhbHNlIH1cblxuICAgICAgcmVzID0gbG9jLnZhbHVlICsgJydcblxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9KVxuICB9KVxuXG4gIGlmICghZm91bmQpIHsgcmV0dXJuIGRvbmUobmV3IEVycm9yKGtleSArICcgbm90IGZvdW5kIGluIEF1dGhvcml0eUluZm9BY2Nlc3MnKSkgfVxuXG4gIHJldHVybiBkb25lKG51bGwsIHJlcylcbn1cblxuY29uc3QgUlNBUHJpdmF0ZUtleSA9IGFzbjEuZGVmaW5lKCdSU0FQcml2YXRlS2V5JywgZnVuY3Rpb24gKCkge1xuICB0aGlzLnNlcSgpLm9iaihcbiAgICB0aGlzLmtleSgndmVyc2lvbicpLmludCgpLFxuICAgIHRoaXMua2V5KCdtb2R1bHVzJykuaW50KCksXG4gICAgdGhpcy5rZXkoJ3B1YmxpY0V4cG9uZW50JykuaW50KCksXG4gICAgdGhpcy5rZXkoJ3ByaXZhdGVFeHBvbmVudCcpLmludCgpLFxuICAgIHRoaXMua2V5KCdwcmltZTEnKS5pbnQoKSxcbiAgICB0aGlzLmtleSgncHJpbWUyJykuaW50KCksXG4gICAgdGhpcy5rZXkoJ2V4cG9uZW50MScpLmludCgpLFxuICAgIHRoaXMua2V5KCdleHBvbmVudDInKS5pbnQoKSxcbiAgICB0aGlzLmtleSgnY29lZmZpY2llbnQnKS5pbnQoKVxuICApXG59KVxuZXhwb3J0cy5SU0FQcml2YXRlS2V5ID0gUlNBUHJpdmF0ZUtleVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/verify.js":
/*!**********************************************************!*\
  !*** ./node_modules/@techteamer/ocsp/lib/ocsp/verify.js ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const ocsp = __webpack_require__(/*! ../ocsp */ \"(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp.js\")\nconst rfc5280 = __webpack_require__(/*! asn1.js-rfc5280 */ \"(rsc)/./node_modules/asn1.js-rfc5280/index.js\")\nconst crypto = __webpack_require__(/*! crypto */ \"crypto\")\n\n// TODO(indutny): verify issuer, etc...\nfunction findResponder (issuer, certs, raws) {\n  let issuerKey = issuer.tbsCertificate.subjectPublicKeyInfo\n  issuerKey = ocsp.utils.toPEM(\n    rfc5280.SubjectPublicKeyInfo.encode(issuerKey, 'der'), 'PUBLIC KEY')\n\n  if (certs.length) {\n    const cert = certs[0]\n    const signAlg = ocsp.utils.sign[cert.signatureAlgorithm.algorithm.join('.')]\n    if (!signAlg) {\n      throw new Error('Unknown signature algorithm ' + cert.signatureAlgorithm.algorithm)\n    }\n\n    const verify = crypto.createVerify(signAlg)\n\n    verify.update(raws[0])\n    if (!verify.verify(issuerKey, cert.signature.data)) {\n      throw new Error('Invalid signature')\n    }\n\n    let certKey = cert.tbsCertificate.subjectPublicKeyInfo\n    certKey = ocsp.utils.toPEM(rfc5280.SubjectPublicKeyInfo.encode(certKey, 'der'), 'PUBLIC KEY')\n\n    return certKey\n  }\n\n  return issuerKey\n}\n\nmodule.exports = function verify (options, cb) {\n  function done (err, res) {\n    process.nextTick(() => { cb(err, res) })\n  }\n\n  try {\n    const req = options.request\n\n    const issuer = req.issuer || rfc5280.Certificate.decode(ocsp.utils.toDER(options.issuer, 'CERTIFICATE'), 'der')\n    let res = ocsp.utils.parseResponse(options.response)\n\n    const rawTBS = options.response.slice(res.start, res.end)\n    const certs = res.certs\n    const raws = res.certsTbs.map((tbs) => { return options.response.slice(tbs.start, tbs.end) })\n    res = res.value\n\n    // Verify signature using CAs Public Key\n    const signAlg = ocsp.utils.sign[res.signatureAlgorithm.algorithm.join('.')]\n    if (!signAlg) {\n      done(new Error('Unknown signature algorithm ' + res.signatureAlgorithm.algorithm), res)\n      return\n    }\n\n    const responderKey = findResponder(issuer, certs, raws)\n\n    const verify = crypto.createVerify(signAlg)\n    const tbs = res.tbsResponseData\n    const signature = res.signature.data\n\n    verify.update(rawTBS)\n    if (!verify.verify(responderKey, signature)) { return done(new Error('Invalid signature'), res) }\n\n    if (tbs.responses.length < 1) { return done(new Error('Expected at least one response')) }\n\n    res = tbs.responses[0]\n\n    // Verify CertID\n    // XXX(indutny): verify parameters\n    if (res.certId.hashAlgorithm.algorithm.join('.') !== req.certID.hashAlgorithm.algorithm.join('.')) {\n      return done(new Error('Hash algorithm mismatch'), res)\n    }\n\n    if (res.certId.issuerNameHash.toString('hex') !== req.certID.issuerNameHash.toString('hex')) {\n      return done(new Error('Issuer name hash mismatch'), res)\n    }\n\n    if (res.certId.issuerKeyHash.toString('hex') !== req.certID.issuerKeyHash.toString('hex')) {\n      return done(new Error('Issuer key hash mismatch'), res)\n    }\n\n    if (res.certId.serialNumber.cmp(req.certID.serialNumber) !== 0) {\n      return done(new Error('Serial number mismatch'), res)\n    }\n\n    if (res.certStatus.type !== 'good') {\n      return done(new Error('OCSP Status: ' + res.certStatus.type), res)\n    }\n\n    const now = +new Date()\n    const nudge = options.nudge || 60000\n    if (res.thisUpdate - nudge > now || res.nextUpdate + nudge < now) {\n      return done(new Error('OCSP Response expired'), res)\n    }\n\n    return done(null, res)\n  } catch (e) {\n    return done(e)\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRlY2h0ZWFtZXIvb2NzcC9saWIvb2NzcC92ZXJpZnkuanMiLCJtYXBwaW5ncyI6IkFBQUEsYUFBYSxtQkFBTyxDQUFDLGtFQUFTO0FBQzlCLGdCQUFnQixtQkFBTyxDQUFDLHNFQUFpQjtBQUN6QyxlQUFlLG1CQUFPLENBQUMsc0JBQVE7O0FBRS9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw2QkFBNkIsY0FBYztBQUMzQzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZDQUE2QyxtREFBbUQ7QUFDaEc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRDs7QUFFbkQsb0NBQW9DOztBQUVwQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2FjY2Vzc29yeS1zYWxlcy1zdW1tYXJ5Ly4vbm9kZV9tb2R1bGVzL0B0ZWNodGVhbWVyL29jc3AvbGliL29jc3AvdmVyaWZ5LmpzP2EwY2IiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgb2NzcCA9IHJlcXVpcmUoJy4uL29jc3AnKVxuY29uc3QgcmZjNTI4MCA9IHJlcXVpcmUoJ2FzbjEuanMtcmZjNTI4MCcpXG5jb25zdCBjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKVxuXG4vLyBUT0RPKGluZHV0bnkpOiB2ZXJpZnkgaXNzdWVyLCBldGMuLi5cbmZ1bmN0aW9uIGZpbmRSZXNwb25kZXIgKGlzc3VlciwgY2VydHMsIHJhd3MpIHtcbiAgbGV0IGlzc3VlcktleSA9IGlzc3Vlci50YnNDZXJ0aWZpY2F0ZS5zdWJqZWN0UHVibGljS2V5SW5mb1xuICBpc3N1ZXJLZXkgPSBvY3NwLnV0aWxzLnRvUEVNKFxuICAgIHJmYzUyODAuU3ViamVjdFB1YmxpY0tleUluZm8uZW5jb2RlKGlzc3VlcktleSwgJ2RlcicpLCAnUFVCTElDIEtFWScpXG5cbiAgaWYgKGNlcnRzLmxlbmd0aCkge1xuICAgIGNvbnN0IGNlcnQgPSBjZXJ0c1swXVxuICAgIGNvbnN0IHNpZ25BbGcgPSBvY3NwLnV0aWxzLnNpZ25bY2VydC5zaWduYXR1cmVBbGdvcml0aG0uYWxnb3JpdGhtLmpvaW4oJy4nKV1cbiAgICBpZiAoIXNpZ25BbGcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBzaWduYXR1cmUgYWxnb3JpdGhtICcgKyBjZXJ0LnNpZ25hdHVyZUFsZ29yaXRobS5hbGdvcml0aG0pXG4gICAgfVxuXG4gICAgY29uc3QgdmVyaWZ5ID0gY3J5cHRvLmNyZWF0ZVZlcmlmeShzaWduQWxnKVxuXG4gICAgdmVyaWZ5LnVwZGF0ZShyYXdzWzBdKVxuICAgIGlmICghdmVyaWZ5LnZlcmlmeShpc3N1ZXJLZXksIGNlcnQuc2lnbmF0dXJlLmRhdGEpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2lnbmF0dXJlJylcbiAgICB9XG5cbiAgICBsZXQgY2VydEtleSA9IGNlcnQudGJzQ2VydGlmaWNhdGUuc3ViamVjdFB1YmxpY0tleUluZm9cbiAgICBjZXJ0S2V5ID0gb2NzcC51dGlscy50b1BFTShyZmM1MjgwLlN1YmplY3RQdWJsaWNLZXlJbmZvLmVuY29kZShjZXJ0S2V5LCAnZGVyJyksICdQVUJMSUMgS0VZJylcblxuICAgIHJldHVybiBjZXJ0S2V5XG4gIH1cblxuICByZXR1cm4gaXNzdWVyS2V5XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdmVyaWZ5IChvcHRpb25zLCBjYikge1xuICBmdW5jdGlvbiBkb25lIChlcnIsIHJlcykge1xuICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4geyBjYihlcnIsIHJlcykgfSlcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVxID0gb3B0aW9ucy5yZXF1ZXN0XG5cbiAgICBjb25zdCBpc3N1ZXIgPSByZXEuaXNzdWVyIHx8IHJmYzUyODAuQ2VydGlmaWNhdGUuZGVjb2RlKG9jc3AudXRpbHMudG9ERVIob3B0aW9ucy5pc3N1ZXIsICdDRVJUSUZJQ0FURScpLCAnZGVyJylcbiAgICBsZXQgcmVzID0gb2NzcC51dGlscy5wYXJzZVJlc3BvbnNlKG9wdGlvbnMucmVzcG9uc2UpXG5cbiAgICBjb25zdCByYXdUQlMgPSBvcHRpb25zLnJlc3BvbnNlLnNsaWNlKHJlcy5zdGFydCwgcmVzLmVuZClcbiAgICBjb25zdCBjZXJ0cyA9IHJlcy5jZXJ0c1xuICAgIGNvbnN0IHJhd3MgPSByZXMuY2VydHNUYnMubWFwKCh0YnMpID0+IHsgcmV0dXJuIG9wdGlvbnMucmVzcG9uc2Uuc2xpY2UodGJzLnN0YXJ0LCB0YnMuZW5kKSB9KVxuICAgIHJlcyA9IHJlcy52YWx1ZVxuXG4gICAgLy8gVmVyaWZ5IHNpZ25hdHVyZSB1c2luZyBDQXMgUHVibGljIEtleVxuICAgIGNvbnN0IHNpZ25BbGcgPSBvY3NwLnV0aWxzLnNpZ25bcmVzLnNpZ25hdHVyZUFsZ29yaXRobS5hbGdvcml0aG0uam9pbignLicpXVxuICAgIGlmICghc2lnbkFsZykge1xuICAgICAgZG9uZShuZXcgRXJyb3IoJ1Vua25vd24gc2lnbmF0dXJlIGFsZ29yaXRobSAnICsgcmVzLnNpZ25hdHVyZUFsZ29yaXRobS5hbGdvcml0aG0pLCByZXMpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCByZXNwb25kZXJLZXkgPSBmaW5kUmVzcG9uZGVyKGlzc3VlciwgY2VydHMsIHJhd3MpXG5cbiAgICBjb25zdCB2ZXJpZnkgPSBjcnlwdG8uY3JlYXRlVmVyaWZ5KHNpZ25BbGcpXG4gICAgY29uc3QgdGJzID0gcmVzLnRic1Jlc3BvbnNlRGF0YVxuICAgIGNvbnN0IHNpZ25hdHVyZSA9IHJlcy5zaWduYXR1cmUuZGF0YVxuXG4gICAgdmVyaWZ5LnVwZGF0ZShyYXdUQlMpXG4gICAgaWYgKCF2ZXJpZnkudmVyaWZ5KHJlc3BvbmRlcktleSwgc2lnbmF0dXJlKSkgeyByZXR1cm4gZG9uZShuZXcgRXJyb3IoJ0ludmFsaWQgc2lnbmF0dXJlJyksIHJlcykgfVxuXG4gICAgaWYgKHRicy5yZXNwb25zZXMubGVuZ3RoIDwgMSkgeyByZXR1cm4gZG9uZShuZXcgRXJyb3IoJ0V4cGVjdGVkIGF0IGxlYXN0IG9uZSByZXNwb25zZScpKSB9XG5cbiAgICByZXMgPSB0YnMucmVzcG9uc2VzWzBdXG5cbiAgICAvLyBWZXJpZnkgQ2VydElEXG4gICAgLy8gWFhYKGluZHV0bnkpOiB2ZXJpZnkgcGFyYW1ldGVyc1xuICAgIGlmIChyZXMuY2VydElkLmhhc2hBbGdvcml0aG0uYWxnb3JpdGhtLmpvaW4oJy4nKSAhPT0gcmVxLmNlcnRJRC5oYXNoQWxnb3JpdGhtLmFsZ29yaXRobS5qb2luKCcuJykpIHtcbiAgICAgIHJldHVybiBkb25lKG5ldyBFcnJvcignSGFzaCBhbGdvcml0aG0gbWlzbWF0Y2gnKSwgcmVzKVxuICAgIH1cblxuICAgIGlmIChyZXMuY2VydElkLmlzc3Vlck5hbWVIYXNoLnRvU3RyaW5nKCdoZXgnKSAhPT0gcmVxLmNlcnRJRC5pc3N1ZXJOYW1lSGFzaC50b1N0cmluZygnaGV4JykpIHtcbiAgICAgIHJldHVybiBkb25lKG5ldyBFcnJvcignSXNzdWVyIG5hbWUgaGFzaCBtaXNtYXRjaCcpLCByZXMpXG4gICAgfVxuXG4gICAgaWYgKHJlcy5jZXJ0SWQuaXNzdWVyS2V5SGFzaC50b1N0cmluZygnaGV4JykgIT09IHJlcS5jZXJ0SUQuaXNzdWVyS2V5SGFzaC50b1N0cmluZygnaGV4JykpIHtcbiAgICAgIHJldHVybiBkb25lKG5ldyBFcnJvcignSXNzdWVyIGtleSBoYXNoIG1pc21hdGNoJyksIHJlcylcbiAgICB9XG5cbiAgICBpZiAocmVzLmNlcnRJZC5zZXJpYWxOdW1iZXIuY21wKHJlcS5jZXJ0SUQuc2VyaWFsTnVtYmVyKSAhPT0gMCkge1xuICAgICAgcmV0dXJuIGRvbmUobmV3IEVycm9yKCdTZXJpYWwgbnVtYmVyIG1pc21hdGNoJyksIHJlcylcbiAgICB9XG5cbiAgICBpZiAocmVzLmNlcnRTdGF0dXMudHlwZSAhPT0gJ2dvb2QnKSB7XG4gICAgICByZXR1cm4gZG9uZShuZXcgRXJyb3IoJ09DU1AgU3RhdHVzOiAnICsgcmVzLmNlcnRTdGF0dXMudHlwZSksIHJlcylcbiAgICB9XG5cbiAgICBjb25zdCBub3cgPSArbmV3IERhdGUoKVxuICAgIGNvbnN0IG51ZGdlID0gb3B0aW9ucy5udWRnZSB8fCA2MDAwMFxuICAgIGlmIChyZXMudGhpc1VwZGF0ZSAtIG51ZGdlID4gbm93IHx8IHJlcy5uZXh0VXBkYXRlICsgbnVkZ2UgPCBub3cpIHtcbiAgICAgIHJldHVybiBkb25lKG5ldyBFcnJvcignT0NTUCBSZXNwb25zZSBleHBpcmVkJyksIHJlcylcbiAgICB9XG5cbiAgICByZXR1cm4gZG9uZShudWxsLCByZXMpXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZG9uZShlKVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@techteamer/ocsp/lib/ocsp/verify.js\n");

/***/ })

};
;